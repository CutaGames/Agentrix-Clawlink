# PayMind AI å•†ä¸š API å±‚å®Œæ•´æ¶æ„è®¾è®¡

## ğŸ¯ æ¶æ„ç›®æ ‡

**è®©ä»»æ„ AIï¼ˆChatGPTã€Claudeã€Geminiã€Copilotã€Llamaã€Rekaã€æ•°å­—äººã€ä¼ä¸š Agentâ€¦ï¼‰éƒ½èƒ½ç›´æ¥è°ƒç”¨ PayMind çš„å•†å“ä¸æœåŠ¡å®Œæˆäº¤æ˜“ï¼Œä»»ä½•é€šè¿‡ PayMind SDK æ¥å…¥çš„ agent ä¹Ÿç›´æ¥æ‹¥æœ‰è¿™äº›èƒ½åŠ›ï¼Œè€Œä¸éœ€è¦å•†å®¶/å¼€å‘è€…è‡ªå·±åšå¤šå¹³å°å¯¹æ¥ã€‚**

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AI æ¨¡å‹å±‚ï¼ˆä»»æ„ AI å¹³å°ï¼‰                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ChatGPT  â”‚  â”‚ Claude   â”‚  â”‚ Gemini   â”‚  â”‚ Copilot  â”‚  â”‚  Llama   â”‚ â”‚
â”‚  â”‚ Reka     â”‚  â”‚ æ•°å­—äºº    â”‚  â”‚ä¼ä¸šAgent â”‚  â”‚ å…¶ä»–AI   â”‚  â”‚  ...     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚              â”‚              â”‚              â”‚              â”‚
        â”‚              â”‚              â”‚              â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   æ–¹æ¡ˆBï¼šæ’ä»¶ç”Ÿæ€æ¥å…¥    â”‚      â”‚   æ–¹æ¡ˆDï¼šSDK æ¥å…¥      â”‚
        â”‚  (å®˜æ–¹æ’ä»¶/æ‰©å±•)        â”‚      â”‚  (å¼€å‘è€… SDK)          â”‚
        â”‚                        â”‚      â”‚                        â”‚
        â”‚ â€¢ ChatGPT Actions     â”‚      â”‚ â€¢ @paymind/agent-sdk  â”‚
        â”‚ â€¢ Claude Extensions   â”‚      â”‚ â€¢ Python SDK          â”‚
        â”‚ â€¢ Gemini Extensions   â”‚      â”‚ â€¢ LangChain é›†æˆ      â”‚
        â”‚ â€¢ Copilot Plugins     â”‚      â”‚ â€¢ LlamaIndex é›†æˆ     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ–¹æ¡ˆCï¼šå‘é‡ç´¢å¼•åµŒå…¥ (RAG)     â”‚
                    â”‚   (æ™ºèƒ½æ¨èä¸è¯­ä¹‰æ£€ç´¢)          â”‚
                    â”‚                                â”‚
                    â”‚ â€¢ å•†å“å‘é‡åŒ–                  â”‚
                    â”‚ â€¢ è¯­ä¹‰æœç´¢ API                â”‚
                    â”‚ â€¢ æ™ºèƒ½æ¨èå¼•æ“                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           æ–¹æ¡ˆAï¼šç»Ÿä¸€èƒ½åŠ›æ¥å£ (æ ¸å¿ƒåŸºç¡€å±‚)                 â”‚
        â”‚         (Unified Capability API)                        â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  å¹³å°é€‚é…å±‚ (Platform Adapter Layer)            â”‚  â”‚
        â”‚  â”‚  â€¢ OpenAI Adapter                              â”‚  â”‚
        â”‚  â”‚  â€¢ Claude Adapter                              â”‚  â”‚
        â”‚  â”‚  â€¢ Gemini Adapter                               â”‚  â”‚
        â”‚  â”‚  â€¢ å¯æ‰©å±•ï¼šLlama/Reka/Copilot/...              â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  èƒ½åŠ›æ³¨å†Œè¡¨ (Capability Registry)                 â”‚  â”‚
        â”‚  â”‚  â€¢ è‡ªåŠ¨ç”Ÿæˆ Function Schema                      â”‚  â”‚
        â”‚  â”‚  â€¢ å¹³å°èƒ½åŠ›æ˜ å°„                                  â”‚  â”‚
        â”‚  â”‚  â€¢ èƒ½åŠ›ç¼“å­˜ç®¡ç†                                  â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  èƒ½åŠ›æ‰§è¡Œå±‚ (Capability Executor Layer)          â”‚  â”‚
        â”‚  â”‚  â€¢ BuyItemExecutor (è´­ä¹°å•†å“)                    â”‚  â”‚
        â”‚  â”‚  â”‚ â€¢ BookServiceExecutor (é¢„çº¦æœåŠ¡)             â”‚  â”‚
        â”‚  â”‚  â€¢ MintNFTExecutor (é“¸é€ NFT)                     â”‚  â”‚
        â”‚  â”‚  â€¢ ExecutePluginExecutor (æ‰§è¡Œæ’ä»¶)             â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         PayMind Marketplace (å•†å“/æœåŠ¡å±‚)               â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  å•†å“ç®¡ç† (Product Management)                   â”‚  â”‚
        â”‚  â”‚  â€¢ å®ç‰©å•†å“ (Physical)                          â”‚  â”‚
        â”‚  â”‚  â€¢ æœåŠ¡å•†å“ (Service)                           â”‚  â”‚
        â”‚  â”‚  â€¢ NFT/FT (é“¾ä¸Šèµ„äº§)                           â”‚  â”‚
        â”‚  â”‚  â€¢ æ’ä»¶ (Plugin)                               â”‚  â”‚
        â”‚  â”‚  â€¢ è®¢é˜…æœåŠ¡ (Subscription)                      â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  äº¤æ˜“æ‰§è¡Œ (Transaction Execution)                â”‚  â”‚
        â”‚  â”‚  â€¢ è®¢å•ç®¡ç† (Order Service)                      â”‚  â”‚
        â”‚  â”‚  â€¢ æ”¯ä»˜å¤„ç† (Payment Service)                    â”‚  â”‚
        â”‚  â”‚  â€¢ å±¥çº¦ç®¡ç† (Fulfillment Service)                â”‚  â”‚
        â”‚  â”‚  â€¢ ç»“ç®—åˆ†æ¶¦ (Settlement Service)                  â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  å‘é‡æ•°æ®åº“ (Vector Database)                    â”‚  â”‚
        â”‚  â”‚  â€¢ å•†å“è¯­ä¹‰ç´¢å¼•                                  â”‚  â”‚
        â”‚  â”‚  â€¢ æ™ºèƒ½æ¨èå¼•æ“                                  â”‚  â”‚
        â”‚  â”‚  â€¢ RAG æ£€ç´¢                                     â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. å¹³å°é€‚é…å±‚ (Platform Adapter Layer)

**èŒè´£**ï¼šå°† PayMind çš„å•†å“èƒ½åŠ›è½¬æ¢ä¸ºå„ AI å¹³å°ç‰¹å®šçš„ Function/Tool Schema

**æ¶æ„**ï¼š
```
PlatformRegistryService (å¹³å°æ³¨å†Œè¡¨)
    â”œâ”€â”€ OpenAIAdapter
    â”‚   â””â”€â”€ è½¬æ¢ä¸º OpenAI Function Calling æ ¼å¼
    â”œâ”€â”€ ClaudeAdapter
    â”‚   â””â”€â”€ è½¬æ¢ä¸º Claude Tool Use æ ¼å¼
    â”œâ”€â”€ GeminiAdapter
    â”‚   â””â”€â”€ è½¬æ¢ä¸º Gemini Functions æ ¼å¼
    â””â”€â”€ [å¯æ‰©å±•]
        â”œâ”€â”€ LlamaAdapter (æœªæ¥)
        â”œâ”€â”€ RekaAdapter (æœªæ¥)
        â”œâ”€â”€ CopilotAdapter (æœªæ¥)
        â””â”€â”€ CustomAdapter (è‡ªå®šä¹‰)
```

**å…³é”®æ¥å£**ï¼š
```typescript
interface IPlatformAdapter {
  platform: string;  // å¹³å° ID
  convertProductToFunction(product: Product, capabilityType: string): FunctionSchema;
  convertProductsToFunctions(products: Product[]): FunctionSchema[];
  validateSchema(schema: FunctionSchema): boolean;
}
```

**æ‰©å±•æ–¹å¼**ï¼š
1. å®ç° `IPlatformAdapter` æ¥å£
2. è°ƒç”¨ `platformRegistry.registerAdapter(platformId, adapter)`
3. æ‰€æœ‰å•†å“è‡ªåŠ¨æ”¯æŒæ–°å¹³å°

---

### 2. èƒ½åŠ›æ³¨å†Œè¡¨ (Capability Registry)

**èŒè´£**ï¼šç®¡ç†å•†å“åˆ° AI èƒ½åŠ›çš„æ˜ å°„ï¼Œè‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ Function Schema

**å·¥ä½œæµç¨‹**ï¼š
```
å•†å“åˆ›å»º/æ›´æ–°
    â†“
CapabilityRegistryService.register()
    â†“
1. ç¡®å®šèƒ½åŠ›ç±»å‹ (purchase/book/mint/execute)
    â†“
2. éå†æ‰€æœ‰å·²æ³¨å†Œå¹³å°
    â†“
3. è°ƒç”¨å¯¹åº” Adapter ç”Ÿæˆ Schema
    â†“
4. å­˜å‚¨åˆ° product.metadata.aiCompatible
    â†“
5. ç¼“å­˜èƒ½åŠ›èŠ‚ç‚¹
```

**æ•°æ®ç»“æ„**ï¼š
```json
{
  "metadata": {
    "aiCompatible": {
      "openai": {
        "function": {
          "name": "paymind_purchase_physical",
          "description": "è´­ä¹°å•†å“ï¼šiPhone 15...",
          "parameters": { ... }
        }
      },
      "claude": { ... },
      "gemini": { ... },
      "llama": { ... },  // æœªæ¥æ–°å¢å¹³å°è‡ªåŠ¨æ·»åŠ 
      "reka": { ... }
    }
  }
}
```

**API ç«¯ç‚¹**ï¼š
- `GET /api/ai-capability/platforms` - è·å–æ‰€æœ‰å·²æ³¨å†Œå¹³å°
- `GET /api/ai-capability/platform/:platform` - è·å–å¹³å°æ‰€æœ‰èƒ½åŠ›
- `GET /api/ai-capability/product/:productId` - è·å–å•†å“èƒ½åŠ›
- `POST /api/ai-capability/register` - æ‰‹åŠ¨æ³¨å†Œèƒ½åŠ›

---

### 3. èƒ½åŠ›æ‰§è¡Œå±‚ (Capability Executor Layer)

**èŒè´£**ï¼šæ‰§è¡Œ AI è°ƒç”¨çš„èƒ½åŠ›ï¼Œå®Œæˆå®é™…äº¤æ˜“

**æ‰§è¡Œå™¨ç±»å‹**ï¼š
```
CapabilityExecutorService
    â”œâ”€â”€ BuyItemExecutor
    â”‚   â””â”€â”€ è´­ä¹°å•†å“æµç¨‹
    â”‚       â”œâ”€â”€ éªŒè¯å•†å“
    â”‚       â”œâ”€â”€ æ£€æŸ¥åº“å­˜
    â”‚       â”œâ”€â”€ åˆ›å»ºè®¢å•
    â”‚       â””â”€â”€ è¿”å›è®¢å•ä¿¡æ¯
    â”‚
    â”œâ”€â”€ BookServiceExecutor
    â”‚   â””â”€â”€ é¢„çº¦æœåŠ¡æµç¨‹
    â”‚       â”œâ”€â”€ éªŒè¯æœåŠ¡
    â”‚       â”œâ”€â”€ æ£€æŸ¥å¯ç”¨æ—¶é—´
    â”‚       â”œâ”€â”€ åˆ›å»ºé¢„çº¦è®¢å•
    â”‚       â””â”€â”€ è¿”å›é¢„çº¦ä¿¡æ¯
    â”‚
    â”œâ”€â”€ MintNFTExecutor
    â”‚   â””â”€â”€ é“¸é€ NFTæµç¨‹
    â”‚       â”œâ”€â”€ éªŒè¯èµ„äº§
    â”‚       â”œâ”€â”€ æ£€æŸ¥é“¾ä¸ŠçŠ¶æ€
    â”‚       â”œâ”€â”€ åˆ›å»ºé“¾ä¸Šè®¢å•
    â”‚       â””â”€â”€ è¿”å›äº¤æ˜“ä¿¡æ¯
    â”‚
    â””â”€â”€ ExecutePluginExecutor
        â””â”€â”€ æ‰§è¡Œæ’ä»¶æµç¨‹
            â”œâ”€â”€ éªŒè¯æ’ä»¶
            â”œâ”€â”€ æ‰§è¡Œæ’ä»¶é€»è¾‘
            â””â”€â”€ è¿”å›æ‰§è¡Œç»“æœ
```

**æ‰§è¡Œæµç¨‹**ï¼š
```
AI è°ƒç”¨èƒ½åŠ›
    â†“
POST /api/ai-capability/execute
    â†“
CapabilityExecutorService.execute()
    â†“
è·¯ç”±åˆ°å¯¹åº” Executor
    â†“
æ‰§è¡Œå…·ä½“ä¸šåŠ¡é€»è¾‘
    â”œâ”€â”€ è°ƒç”¨ OrderService
    â”œâ”€â”€ è°ƒç”¨ PaymentService
    â””â”€â”€ è°ƒç”¨ FulfillmentService
    â†“
è¿”å› ExecutionResult
```

---

### 4. SDK é›†æˆå±‚ (SDK Integration Layer)

**èŒè´£**ï¼šä¸ºå¼€å‘è€…æä¾›æ˜“ç”¨çš„ SDKï¼Œè®© Agent å¿«é€Ÿæ¥å…¥ PayMind èƒ½åŠ›

**SDK æ¶æ„**ï¼š
```typescript
@paymind/agent-sdk
    â”œâ”€â”€ Core
    â”‚   â”œâ”€â”€ PayMindAgent (ä¸»ç±»)
    â”‚   â”œâ”€â”€ Client (API å®¢æˆ·ç«¯)
    â”‚   â””â”€â”€ Config (é…ç½®ç®¡ç†)
    â”‚
    â”œâ”€â”€ Marketplace
    â”‚   â”œâ”€â”€ enableMarketplace() - å¯ç”¨ Marketplace èƒ½åŠ›
    â”‚   â”œâ”€â”€ searchProducts() - æœç´¢å•†å“
    â”‚   â”œâ”€â”€ getProduct() - è·å–å•†å“è¯¦æƒ…
    â”‚   â””â”€â”€ addToCart() - åŠ å…¥è´­ç‰©è½¦
    â”‚
    â”œâ”€â”€ Transaction
    â”‚   â”œâ”€â”€ createOrder() - åˆ›å»ºè®¢å•
    â”‚   â”œâ”€â”€ processPayment() - å¤„ç†æ”¯ä»˜
    â”‚   â””â”€â”€ trackOrder() - è·Ÿè¸ªè®¢å•
    â”‚
    â””â”€â”€ Capabilities
        â”œâ”€â”€ getCapabilities() - è·å–èƒ½åŠ›åˆ—è¡¨
        â”œâ”€â”€ executeCapability() - æ‰§è¡Œèƒ½åŠ›
        â””â”€â”€ registerCapabilities() - æ³¨å†Œèƒ½åŠ›
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```typescript
import { PayMindAgent } from '@paymind/agent-sdk';

// åˆå§‹åŒ–
const agent = new PayMindAgent({
  apiKey: 'your-api-key',
  environment: 'production',
});

// å¯ç”¨ Marketplaceï¼ˆä¸€è¡Œä»£ç ï¼‰
agent.enableMarketplace({
  autoSearch: true,
  showPrices: true,
  enableCart: true,
});

// ç°åœ¨ Agent å¯ä»¥ï¼š
// 1. è‡ªåŠ¨æœç´¢å•†å“
const products = await agent.marketplace.searchProducts('iPhone 15');

// 2. åˆ›å»ºè®¢å•
const order = await agent.transaction.createOrder({
  productId: 'xxx',
  quantity: 1,
});

// 3. å¤„ç†æ”¯ä»˜
const payment = await agent.transaction.processPayment({
  orderId: order.id,
  amount: order.amount,
});
```

**SDK è‡ªåŠ¨èƒ½åŠ›æ³¨å…¥**ï¼š
- SDK åˆå§‹åŒ–æ—¶è‡ªåŠ¨è·å–æ‰€æœ‰å·²æ³¨å†Œå¹³å°çš„èƒ½åŠ›
- Agent è‡ªåŠ¨æ‹¥æœ‰æ‰€æœ‰ Marketplace äº¤æ˜“èƒ½åŠ›
- æ— éœ€æ‰‹åŠ¨é…ç½®ï¼Œé›¶å­¦ä¹ æˆæœ¬

---

### 5. å‘é‡ç´¢å¼•å±‚ (Vector Index Layer)

**èŒè´£**ï¼šæä¾›æ™ºèƒ½æ¨èå’Œè¯­ä¹‰æ£€ç´¢èƒ½åŠ›

**å·¥ä½œæµç¨‹**ï¼š
```
å•†å“ä¸Šæ¶
    â†“
ç”Ÿæˆ Embedding (å•†å“åç§° + æè¿°)
    â†“
ç´¢å¼•åˆ°å‘é‡æ•°æ®åº“
    â†“
AI æŸ¥è¯¢
    â†“
æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡
    â†“
å‘é‡ç›¸ä¼¼åº¦æœç´¢
    â†“
è¿”å›æœ€ç›¸å…³å•†å“
```

**API ç«¯ç‚¹**ï¼š
- `POST /api/marketplace/search` - è¯­ä¹‰æœç´¢
- `POST /api/marketplace/recommend` - æ™ºèƒ½æ¨è
- `GET /api/marketplace/products/:id/embedding` - è·å–å•†å“å‘é‡

---

## ğŸ”„ å®Œæ•´æ•°æ®æµ

### åœºæ™¯1ï¼šAI ç›´æ¥è°ƒç”¨ï¼ˆé€šè¿‡å®˜æ–¹æ’ä»¶/æ‰©å±•ï¼‰

```
ç”¨æˆ·: "å¸®æˆ‘ä¹° iPhone 15"
    â†“
ChatGPT/Claude/Gemini
    â†“
è°ƒç”¨ PayMind Function/Tool
    â†“
POST /api/ai-capability/execute
    {
      "executor": "executor_purchase",
      "params": {
        "product_id": "iphone15-id",
        "quantity": 1,
        "shipping_address": "..."
      },
      "context": {
        "userId": "user-xxx"
      }
    }
    â†“
BuyItemExecutor.execute()
    â”œâ”€â”€ éªŒè¯å•†å“
    â”œâ”€â”€ æ£€æŸ¥åº“å­˜
    â”œâ”€â”€ åˆ›å»ºè®¢å• (OrderService)
    â””â”€â”€ è¿”å›è®¢å•ä¿¡æ¯
    â†“
AI è¿”å›ç»“æœç»™ç”¨æˆ·
```

### åœºæ™¯2ï¼šAgent é€šè¿‡ SDK æ¥å…¥

```
å¼€å‘è€…é›†æˆ SDK
    â†“
agent.enableMarketplace()
    â†“
SDK è‡ªåŠ¨è·å–æ‰€æœ‰èƒ½åŠ›
    â†“
ç”¨æˆ·: "å¸®æˆ‘ä¹° iPhone 15"
    â†“
Agent (é€šè¿‡ SDK)
    â†“
agent.marketplace.searchProducts('iPhone 15')
    â†“
POST /api/marketplace/search
    â†“
è¿”å›å•†å“åˆ—è¡¨
    â†“
agent.transaction.createOrder({ productId, quantity })
    â†“
POST /api/orders
    â†“
è‡ªåŠ¨æ³¨å†Œèƒ½åŠ› â†’ åˆ›å»ºè®¢å• â†’ è¿”å›ç»“æœ
```

### åœºæ™¯3ï¼šå•†å“ä¸Šæ¶è‡ªåŠ¨æ³¨å†Œ

```
å•†å®¶ä¸Šæ¶å•†å“
    â†“
POST /api/products
    â†“
ProductService.createProduct()
    â”œâ”€â”€ ä¿å­˜å•†å“åˆ°æ•°æ®åº“
    â”œâ”€â”€ ç´¢å¼•åˆ°å‘é‡æ•°æ®åº“
    â””â”€â”€ è‡ªåŠ¨æ³¨å†Œ AI èƒ½åŠ›
        â†“
        CapabilityRegistryService.register()
            â”œâ”€â”€ éå†æ‰€æœ‰å·²æ³¨å†Œå¹³å°
            â”œâ”€â”€ è°ƒç”¨å¯¹åº” Adapter ç”Ÿæˆ Schema
            â””â”€â”€ å­˜å‚¨åˆ° metadata.aiCompatible
    â†“
è¿”å›å•†å“ï¼ˆåŒ…å«æ‰€æœ‰å¹³å°çš„èƒ½åŠ›å®šä¹‰ï¼‰
```

---

## ğŸ”Œ æ¥å…¥æ–¹å¼

### æ–¹å¼1ï¼šå®˜æ–¹æ’ä»¶/æ‰©å±•ï¼ˆæ–¹æ¡ˆBï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šä¸»æµ AI å¹³å°ï¼ˆChatGPTã€Claudeã€Geminiã€Copilotï¼‰

**å®ç°æ–¹å¼**ï¼š
- ChatGPT: Actions (OpenAPI)
- Claude: Extensions
- Gemini: Extensions
- Copilot: Plugins

**ä¼˜åŠ¿**ï¼š
- å®˜æ–¹æµé‡
- ç”¨æˆ·è§¦è¾¾
- å“ç‰Œæ›å…‰

**æµç¨‹**ï¼š
```
æäº¤æ’ä»¶å®¡æ ¸
    â†“
å®¡æ ¸é€šè¿‡
    â†“
æ’ä»¶ä¸Šçº¿
    â†“
ç”¨æˆ·å®‰è£…æ’ä»¶
    â†“
AI è‡ªåŠ¨æ‹¥æœ‰ PayMind èƒ½åŠ›
```

### æ–¹å¼2ï¼šSDK æ¥å…¥ï¼ˆæ–¹æ¡ˆDï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šè‡ªå®šä¹‰ Agentã€ä¼ä¸š Agentã€æ•°å­—äººã€å…¶ä»– AI å¹³å°

**å®ç°æ–¹å¼**ï¼š
```typescript
// 10 åˆ†é’Ÿæ¥å…¥
import { PayMindAgent } from '@paymind/agent-sdk';

const agent = new PayMindAgent({ apiKey: 'xxx' });
agent.enableMarketplace();
// å®Œæˆï¼Agent ç°åœ¨æ‹¥æœ‰æ‰€æœ‰èƒ½åŠ›
```

**ä¼˜åŠ¿**ï¼š
- å¿«é€Ÿæ¥å…¥ï¼ˆ10 åˆ†é’Ÿï¼‰
- çµæ´»å®šåˆ¶
- æ— éœ€å®¡æ ¸
- æ”¯æŒæ‰€æœ‰å¹³å°

### æ–¹å¼3ï¼šç›´æ¥ API è°ƒç”¨

**é€‚ç”¨åœºæ™¯**ï¼šé«˜çº§å¼€å‘è€…ã€è‡ªå®šä¹‰é›†æˆ

**å®ç°æ–¹å¼**ï¼š
```bash
# è·å–èƒ½åŠ›åˆ—è¡¨
GET /api/ai-capability/platform/openai

# æ‰§è¡Œèƒ½åŠ›
POST /api/ai-capability/execute
{
  "executor": "executor_purchase",
  "params": { ... }
}
```

---

## ğŸ¯ å…³é”®è®¾è®¡åŸåˆ™

### 1. ç»Ÿä¸€æŠ½è±¡ï¼Œå¤šå¹³å°é€‚é…

- **ç»Ÿä¸€èƒ½åŠ›æ¥å£**ï¼šæ‰€æœ‰å•†å“ç»Ÿä¸€æŠ½è±¡ä¸ºèƒ½åŠ›
- **å¹³å°é€‚é…å™¨**ï¼šå°†ç»Ÿä¸€èƒ½åŠ›è½¬æ¢ä¸ºå„å¹³å°æ ¼å¼
- **å¯æ‰©å±•è®¾è®¡**ï¼šæ–°å¢å¹³å°åªéœ€æ·»åŠ é€‚é…å™¨

### 2. è‡ªåŠ¨æ³¨å†Œï¼Œé›¶é…ç½®

- **å•†å“ä¸Šæ¶å³æ³¨å†Œ**ï¼šå•†å®¶æ— éœ€å…³å¿ƒå¹³å°
- **è‡ªåŠ¨ç”Ÿæˆ Schema**ï¼šç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰å¹³å°çš„èƒ½åŠ›å®šä¹‰
- **åŠ¨æ€å¹³å°æ”¯æŒ**ï¼šæ–°å¢å¹³å°åï¼Œæ‰€æœ‰å•†å“è‡ªåŠ¨æ”¯æŒ

### 3. SDK èƒ½åŠ›æ³¨å…¥

- **ä¸€è¡Œä»£ç å¯ç”¨**ï¼š`agent.enableMarketplace()`
- **è‡ªåŠ¨èƒ½åŠ›è·å–**ï¼šSDK è‡ªåŠ¨è·å–æ‰€æœ‰å·²æ³¨å†Œå¹³å°çš„èƒ½åŠ›
- **æ— ç¼é›†æˆ**ï¼šAgent è‡ªåŠ¨æ‹¥æœ‰äº¤æ˜“èƒ½åŠ›

### 4. å‘åå…¼å®¹

- **ä¸å½±å“ç°æœ‰åŠŸèƒ½**ï¼šæ‰€æœ‰æ”¹åŠ¨å‘åå…¼å®¹
- **æ¸è¿›å¼å‡çº§**ï¼šå¯ä»¥é€æ­¥æ¥å…¥æ–°å¹³å°
- **å¹³æ»‘è¿ç§»**ï¼šç°æœ‰å•†å“è‡ªåŠ¨è·å¾—æ–°èƒ½åŠ›

---

## ğŸ“Š æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**ï¼šNestJS
- **æ•°æ®åº“**ï¼šPostgreSQL (å•†å“æ•°æ®) + Vector DB (è¯­ä¹‰ç´¢å¼•)
- **ç¼“å­˜**ï¼šRedis (èƒ½åŠ›ç¼“å­˜)
- **API**ï¼šRESTful API

### å‰ç«¯
- **æ¡†æ¶**ï¼šNext.js + React
- **çŠ¶æ€ç®¡ç†**ï¼šReact Hooks
- **UI ç»„ä»¶**ï¼šTailwind CSS

### SDK
- **è¯­è¨€**ï¼šTypeScript (ä¸»è¦) + Python (è®¡åˆ’)
- **æ¡†æ¶é›†æˆ**ï¼šLangChainã€LlamaIndex
- **åŒ…ç®¡ç†**ï¼šnpmã€PyPI

---

## ğŸš€ æ‰©å±•æ€§è®¾è®¡

### æ–°å¢ AI å¹³å°

```
1. å®ç° IPlatformAdapter
   class NewPlatformAdapter implements IPlatformAdapter { ... }

2. æ³¨å†Œé€‚é…å™¨
   platformRegistry.registerAdapter('newplatform', adapter);

3. å®Œæˆï¼
   - æ‰€æœ‰ç°æœ‰å•†å“è‡ªåŠ¨æ”¯æŒæ–°å¹³å°
   - SDK è‡ªåŠ¨åŒ…å«æ–°å¹³å°èƒ½åŠ›
   - æ— éœ€ä¿®æ”¹å…¶ä»–ä»£ç 
```

### æ–°å¢å•†å“ç±»å‹

```
1. å®šä¹‰èƒ½åŠ›ç±»å‹
   type CapabilityType = 'purchase' | 'book' | 'mint' | 'newtype';

2. å®ç°æ‰§è¡Œå™¨
   class NewTypeExecutor implements ICapabilityExecutor { ... }

3. æ³¨å†Œæ‰§è¡Œå™¨
   executorService.register('executor_newtype', executor);

4. å®Œæˆï¼
   - æ–°ç±»å‹å•†å“è‡ªåŠ¨æ”¯æŒæ‰€æœ‰å¹³å°
```

### æ–°å¢äº¤æ˜“èƒ½åŠ›

```
1. å®ç°æ‰§è¡Œå™¨
   class NewCapabilityExecutor { ... }

2. æ³¨å†Œæ‰§è¡Œå™¨
   executorService.register('executor_newcap', executor);

3. æ›´æ–°é€‚é…å™¨é€»è¾‘ï¼ˆå¦‚éœ€è¦ï¼‰
   é€‚é…å™¨è‡ªåŠ¨ç”Ÿæˆæ–°èƒ½åŠ›çš„ Schema

4. å®Œæˆï¼
```

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- âœ… æ”¯æŒ 10+ AI å¹³å°
- âœ… 1000+ å•†å“è‡ªåŠ¨ç”Ÿæˆèƒ½åŠ›
- âœ… SDK é›†æˆæ—¶é—´ < 10 åˆ†é’Ÿ
- âœ… API å“åº”æ—¶é—´ < 500ms
- âœ… èƒ½åŠ›æ³¨å†ŒæˆåŠŸç‡ > 99%

### ä¸šåŠ¡æŒ‡æ ‡
- ğŸ“Š é€šè¿‡ AI å¹³å°çš„è®¢å•é‡
- ğŸ“Š SDK ä¸‹è½½é‡å’Œä½¿ç”¨é‡
- ğŸ“Š å¼€å‘è€…ç¤¾åŒºæ´»è·ƒåº¦
- ğŸ“Š å•†å®¶ä¸Šæ¶å•†å“æ•°é‡å¢é•¿
- ğŸ“Š AI å¹³å°è¦†ç›–åº¦

---

## ğŸ‰ æ¶æ„ä¼˜åŠ¿

### 1. å®Œå…¨å¯æ‰©å±•
- æ”¯æŒä»»æ„æ•°é‡çš„ AI å¹³å°
- æ”¯æŒä»»æ„ç±»å‹çš„å•†å“
- æ”¯æŒä»»æ„äº¤æ˜“èƒ½åŠ›

### 2. é›¶é…ç½®è‡ªåŠ¨æ”¯æŒ
- å•†å®¶åªéœ€ä¸Šæ¶å•†å“
- ç³»ç»Ÿè‡ªåŠ¨é€‚é…æ‰€æœ‰å¹³å°
- SDK è‡ªåŠ¨æ³¨å…¥èƒ½åŠ›

### 3. ç»Ÿä¸€æ ‡å‡†
- ä¸€å¥—æ ‡å‡†ï¼Œå¤šå¹³å°é€‚é…
- ç»Ÿä¸€çš„æ•°æ®æ¨¡å‹
- ç»Ÿä¸€çš„æ‰§è¡Œæ¥å£

### 4. å¼€å‘è€…å‹å¥½
- 10 åˆ†é’Ÿå¿«é€Ÿæ¥å…¥
- æ¸…æ™°çš„ API æ–‡æ¡£
- ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 

---

## ğŸ”® æœªæ¥æ¼”è¿›

### Phase 1ï¼šæ ¸å¿ƒåŸºç¡€ âœ…
- ç»Ÿä¸€èƒ½åŠ›æ¥å£
- å¹³å°é€‚é…å™¨
- èƒ½åŠ›æ‰§è¡Œå™¨

### Phase 2ï¼šå¿«é€Ÿæ¥å…¥
- å®˜æ–¹æ’ä»¶æäº¤
- SDK å®Œå–„
- RAG API ä¼˜åŒ–

### Phase 3ï¼šç”Ÿæ€æ‰©å±•
- æ›´å¤šå¹³å°æ”¯æŒ
- æ›´å¤šå•†å“ç±»å‹
- æ›´å¤šäº¤æ˜“èƒ½åŠ›

### Phase 4ï¼šæ™ºèƒ½åŒ–
- AI é©±åŠ¨çš„æ¨è
- ä¸ªæ€§åŒ–æ’åº
- æ™ºèƒ½å®šä»·

---

## ğŸ“ æ€»ç»“

**PayMind AI å•†ä¸š API å±‚æ¶æ„å®ç°äº†ï¼š**

1. âœ… **ç»Ÿä¸€æŠ½è±¡**ï¼šæ‰€æœ‰å•†å“ç»Ÿä¸€æŠ½è±¡ä¸ºèƒ½åŠ›
2. âœ… **å¤šå¹³å°é€‚é…**ï¼šè‡ªåŠ¨é€‚é…æ‰€æœ‰ AI å¹³å°
3. âœ… **è‡ªåŠ¨æ³¨å†Œ**ï¼šå•†å“ä¸Šæ¶å³è‡ªåŠ¨æ”¯æŒæ‰€æœ‰å¹³å°
4. âœ… **SDK èƒ½åŠ›æ³¨å…¥**ï¼šAgent æ¥å…¥ SDK å³æ‹¥æœ‰æ‰€æœ‰èƒ½åŠ›
5. âœ… **å®Œå…¨å¯æ‰©å±•**ï¼šæ”¯æŒæœªæ¥ä»»æ„å¹³å°å’Œå•†å“ç±»å‹

**è¿™å°±æ˜¯ PayMind æˆä¸º"AI ä¸–ç•Œçš„å•†ä¸š API å±‚"çš„å®Œæ•´æ¶æ„ï¼** ğŸš€

