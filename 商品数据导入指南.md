# Agentrix Agent V3.0 商品数据导入指南

## 🎯 目的

导入模拟商品数据，覆盖不同场景和品类，以便体验Agentrix Agent V3.0的所有功能。

---

## 📦 商品数据概览

种子脚本将导入 **18个商品**，涵盖以下品类：

### 1. 游戏装备类（5个）
- ✅ 传奇游戏剑 - 火焰之刃 ($19.99)
- ✅ 强化石 - 力量增强 ($4.99)
- ✅ 魔法法杖 - 冰霜之触 ($24.99)
- ✅ 防御盾牌 - 守护者 ($15.99)
- ✅ 游戏金币包 - 1000金币 ($9.99)

**用途**: 测试游戏装备搜索、比价、推荐功能

### 2. 电子产品类（4个）
- ✅ 联想 Yoga 笔记本电脑 (¥899.99)
- ✅ 无线蓝牙耳机 - 降噪版 (¥299.99)
- ✅ 智能手表 - 运动版 (¥599.99)
- ✅ 机械键盘 - 87键 (¥199.99)

**用途**: 测试电子产品搜索、价格比较、自动下单

### 3. 服务类商品（4个）
- ✅ 网站设计服务 (¥5,000)
- ✅ 品牌Logo设计 (¥800)
- ✅ 技术咨询服务 (¥1,200)
- ✅ AI模型训练服务 (¥15,000)

**用途**: 测试服务类商品、任务型订单、商户协作

### 4. 链上资产类（3个）
- ✅ NFT收藏品 - 数字艺术品 (0.5 ETH)
- ✅ 游戏道具NFT - 稀有装备 (0.3 ETH)
- ✅ 代币包 - 1000 USDT (1000 USDT)

**用途**: 测试链上资产搜索、原子交割、Web3支付

### 5. 其他品类（2个）
- ✅ 在线课程 - 前端开发 (¥299)
- ✅ 会员订阅 - 高级版 (¥199)
- ✅ 定制T恤 - 个性化设计 (¥89)

**用途**: 测试订阅服务、定制商品

---

## 🚀 导入步骤

### 方式1: 使用脚本（推荐）

**WSL/Linux:**
```bash
chmod +x 运行商品种子数据.sh
./运行商品种子数据.sh
```

**Windows:**
```batch
运行商品种子数据.bat
```

### 方式2: 手动运行

```bash
cd backend
npm run seed:products
```

---

## ✅ 验证导入

### 检查商品数量

```sql
-- 连接到PostgreSQL
psql -U postgres -d agentrix

-- 查看商品总数
SELECT COUNT(*) FROM products;

-- 查看各品类商品数量
SELECT category, COUNT(*) as count 
FROM products 
GROUP BY category 
ORDER BY count DESC;
```

### 通过API检查

```bash
# 获取商品列表
curl http://localhost:3001/api/products

# 搜索商品
curl "http://localhost:3001/api/search?q=游戏剑"
```

---

## 🧪 体验V3.0功能

导入商品后，可以体验以下功能：

### 1. 商品搜索和比价

**在Agent中发送**:
```
帮我找一把游戏剑，预算20美元
```

**预期结果**:
- ✅ 返回游戏剑商品列表
- ✅ 显示比价信息（最便宜、平均价格）
- ✅ 推荐理由和来源标签

### 2. 情景感知推荐

**在Agent中发送**:
```
推荐游戏装备
```

**预期结果**:
- ✅ 基于上下文的推荐
- ✅ 每个商品有推荐理由
- ✅ 显示来源（用户画像/上下文/热门）

### 3. 自动下单

**在Agent中发送**:
```
帮我把火焰之刃加入购物车并下单
```

**预期结果**:
- ✅ 自动创建订单
- ✅ 生成PayIntent
- ✅ 显示支付进度

### 4. 服务类商品

**在Agent中发送**:
```
我需要网站设计服务
```

**预期结果**:
- ✅ 返回服务类商品
- ✅ 显示交付周期
- ✅ 可以创建任务型订单

### 5. 链上资产

**在Agent中发送**:
```
查找NFT收藏品
```

**预期结果**:
- ✅ 返回链上资产
- ✅ 显示链信息（Ethereum/Polygon）
- ✅ 支持原子交割

### 6. 多轮对话

**第一轮**:
```
帮我找一把游戏剑，预算20美元
```

**第二轮**:
```
把刚才那把加入购物车
```

**预期结果**:
- ✅ Agent记住预算和商品类型
- ✅ 使用相同的会话上下文

---

## 📊 商品数据详情

### 价格区间
- **低价**: $4.99 - $24.99 (游戏道具)
- **中价**: ¥199 - ¥899 (电子产品)
- **高价**: ¥5,000 - ¥15,000 (服务类)
- **链上**: 0.3 - 0.5 ETH (NFT)

### 库存状态
- **游戏装备**: 8-100件
- **电子产品**: 25-50件
- **服务类**: 999件（无限）
- **链上资产**: 1-100件

### 分润率
- **游戏装备**: 8-15%
- **电子产品**: 5-8%
- **服务类**: 15-25%
- **链上资产**: 5-12%

---

## 🔄 重新导入

如果需要重新导入（清空现有商品）：

```sql
-- 删除现有商品（谨慎操作）
DELETE FROM products WHERE merchant_id = 'MERCHANT_ID';
```

然后重新运行种子脚本。

---

## 📝 注意事项

1. **商户账户**: 脚本会自动创建测试商户（merchant@agentrix.test）
2. **重复导入**: 脚本会跳过已存在的商品（基于名称）
3. **索引**: 商品会自动索引到搜索服务
4. **元数据**: 每个商品包含丰富的元数据，用于推荐和搜索

---

## 🎉 完成

导入完成后，即可在Agent中体验所有V3.0功能！

**测试建议**:
1. 先测试商品搜索
2. 然后测试推荐功能
3. 最后测试自动下单流程

---

**祝体验愉快！** 🚀

