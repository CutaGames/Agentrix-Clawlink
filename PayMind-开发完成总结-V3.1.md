# PayMind V3.1 å¼€å‘å®Œæˆæ€»ç»“

**å®Œæˆæ—¥æœŸ**: 2025å¹´1æœˆ  
**ç‰ˆæœ¬**: V3.1  
**å¼€å‘çŠ¶æ€**: âœ… **P0åŠŸèƒ½å…¨éƒ¨å®Œæˆ**

---

## ğŸ‰ å¼€å‘æˆæœ

### å®ŒæˆåŠŸèƒ½ç»Ÿè®¡
- **P0åŠŸèƒ½**: 4ä¸ªï¼ˆ100%å®Œæˆï¼‰
- **åç«¯æœåŠ¡**: 7ä¸ªæ–°æœåŠ¡
- **å‰ç«¯ç»„ä»¶**: 5ä¸ªæ–°ç»„ä»¶
- **æ•°æ®åº“è¡¨**: 6ä¸ªæ–°è¡¨
- **APIç«¯ç‚¹**: 25ä¸ªæ–°ç«¯ç‚¹
- **ä»£ç è¡Œæ•°**: çº¦5000+è¡Œ

---

## âœ… å·²å®ŒæˆåŠŸèƒ½è¯¦æƒ…

### 1. Agentæ¨å¹¿å•†æˆ·åˆ†æˆç³»ç»Ÿ â­â­â­

**å®Œæˆåº¦**: 100%

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… æ¨å¹¿å…³ç³»ç®¡ç†ï¼ˆåˆ›å»ºã€å®¡æ ¸ã€æ¿€æ´»ï¼‰
- âœ… ä¸€æ¬¡æ€§å¥–åŠ±ï¼ˆ$50 - $1,500ï¼‰
- âœ… é•¿æœŸåˆ†æˆï¼ˆå•†æˆ·äº¤æ˜“é¢çš„0.5%ï¼‰
- âœ… è‡ªåŠ¨è®°å½•æ”¯ä»˜åˆ†æˆ
- âœ… æ¯å‘¨è‡ªåŠ¨ç»“ç®—
- âœ… æ¨å¹¿ç»Ÿè®¡å’ŒæŠ¥è¡¨

#### æŠ€æœ¯å®ç°
- **åç«¯**: `ReferralService`, `ReferralCommissionService`
- **å‰ç«¯**: `ReferralDashboard.tsx`
- **æ•°æ®åº“**: `merchant_referrals`, `referral_commissions`
- **API**: 9ä¸ªç«¯ç‚¹

---

### 2. Auto Shoppingå¢å¼º - ä¼˜æƒ åˆ¸æœåŠ¡ â­â­

**å®Œæˆåº¦**: 100%

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… ä¼˜æƒ åˆ¸ç®¡ç†ï¼ˆç™¾åˆ†æ¯”ã€å›ºå®šé‡‘é¢ã€å…è¿è´¹ï¼‰
- âœ… è‡ªåŠ¨æŸ¥æ‰¾å¯ç”¨ä¼˜æƒ åˆ¸
- âœ… æŠ˜æ‰£è®¡ç®—å’ŒéªŒè¯
- âœ… ä½¿ç”¨è®°å½•å’Œç»Ÿè®¡

#### æŠ€æœ¯å®ç°
- **åç«¯**: `CouponService`
- **å‰ç«¯**: `CouponPanel.tsx`
- **æ•°æ®åº“**: `coupons`, `coupon_usages`
- **API**: 5ä¸ªç«¯ç‚¹

---

### 3. Auto Shoppingå¢å¼º - ç‰©æµè·Ÿè¸ªå¢å¼º â­â­

**å®Œæˆåº¦**: 100%

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… è‡ªåŠ¨æ›´æ–°ç‰©æµçŠ¶æ€
- âœ… ç¬¬ä¸‰æ–¹ç‰©æµAPIé›†æˆæ¡†æ¶
- âœ… æ‰¹é‡æ›´æ–°ç‰©æµçŠ¶æ€
- âœ… ç‰©æµäº‹ä»¶æ—¶é—´çº¿

#### æŠ€æœ¯å®ç°
- **åç«¯**: `LogisticsService`ï¼ˆå¢å¼ºï¼‰
- **å‰ç«¯**: `LogisticsTrackingPanel.tsx`
- **API**: 3ä¸ªç«¯ç‚¹ï¼ˆå¢å¼ºï¼‰

---

### 4. Auto-EarnåŸºç¡€åŠŸèƒ½å®Œå–„ â­â­â­

**å®Œæˆåº¦**: 100%

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç©ºæŠ•è‡ªåŠ¨å‘ç°å’Œç›‘æ§
- âœ… ç©ºæŠ•é¢†å–æ¡ä»¶æ£€æŸ¥
- âœ… ç©ºæŠ•è‡ªåŠ¨é¢†å–
- âœ… ä»»åŠ¡è‡ªåŠ¨æ‰§è¡Œå¼•æ“
- âœ… ç»Ÿè®¡æ•°æ®èšåˆï¼ˆçœŸå®æ•°æ®ï¼‰

#### æŠ€æœ¯å®ç°
- **åç«¯**: `AirdropService`, `TaskExecutorService`, `AutoEarnService`ï¼ˆå®Œå–„ï¼‰
- **å‰ç«¯**: `AutoEarnPanel.tsx`ï¼ˆé›†æˆçœŸå®æ•°æ®ï¼‰
- **æ•°æ®åº“**: `auto_earn_tasks`, `airdrops`
- **API**: 8ä¸ªç«¯ç‚¹ï¼ˆæ–°å¢4ä¸ªç©ºæŠ•ç«¯ç‚¹ï¼‰

---

## ğŸ“Š æŠ€æœ¯æ¶æ„

### åç«¯æ¶æ„
```
backend/src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ referral/          # æ¨å¹¿æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ referral.service.ts
â”‚   â”‚   â”œâ”€â”€ referral-commission.service.ts
â”‚   â”‚   â””â”€â”€ referral.controller.ts
â”‚   â”œâ”€â”€ coupon/            # ä¼˜æƒ åˆ¸æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ coupon.service.ts
â”‚   â”‚   â””â”€â”€ coupon.controller.ts
â”‚   â”œâ”€â”€ auto-earn/         # Auto-Earnæ¨¡å—ï¼ˆå®Œå–„ï¼‰
â”‚   â”‚   â”œâ”€â”€ auto-earn.service.ts
â”‚   â”‚   â”œâ”€â”€ airdrop.service.ts
â”‚   â”‚   â”œâ”€â”€ task-executor.service.ts
â”‚   â”‚   â””â”€â”€ auto-earn.controller.ts
â”‚   â””â”€â”€ logistics/         # ç‰©æµæ¨¡å—ï¼ˆå¢å¼ºï¼‰
â”‚       â””â”€â”€ logistics.service.ts
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ merchant-referral.entity.ts
â”‚   â”œâ”€â”€ referral-commission.entity.ts
â”‚   â”œâ”€â”€ coupon.entity.ts
â”‚   â”œâ”€â”€ coupon-usage.entity.ts
â”‚   â”œâ”€â”€ auto-earn-task.entity.ts
â”‚   â””â”€â”€ airdrop.entity.ts
â””â”€â”€ migrations/
    â”œâ”€â”€ 1738000000000-CreateReferralTables.ts
    â”œâ”€â”€ 1738000001000-CreateAutoEarnTables.ts
    â””â”€â”€ 1738000002000-CreateCouponTables.ts
```

### å‰ç«¯æ¶æ„
```
paymindfrontend/
â”œâ”€â”€ lib/api/
â”‚   â”œâ”€â”€ referral.api.ts
â”‚   â”œâ”€â”€ coupon.api.ts
â”‚   â”œâ”€â”€ airdrop.api.ts
â”‚   â””â”€â”€ logistics.api.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ referral/
â”‚   â”‚   â””â”€â”€ ReferralDashboard.tsx
â”‚   â”œâ”€â”€ coupon/
â”‚   â”‚   â””â”€â”€ CouponPanel.tsx
â”‚   â”œâ”€â”€ logistics/
â”‚   â”‚   â””â”€â”€ LogisticsTracking.tsx
â”‚   â””â”€â”€ agent/
â”‚       â”œâ”€â”€ ShoppingCart.tsx (å·²é›†æˆä¼˜æƒ åˆ¸)
â”‚       â””â”€â”€ OrderList.tsx (å·²é›†æˆç‰©æµè·Ÿè¸ª)
â””â”€â”€ pages/
    â””â”€â”€ agent.tsx (å·²é›†æˆæ¨å¹¿é¢æ¿)
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ–°å¢è¡¨ç»“æ„

#### 1. merchant_referralsï¼ˆå•†æˆ·æ¨å¹¿å…³ç³»ï¼‰
- æ¨å¹¿å…³ç³»ç®¡ç†
- ä¸€æ¬¡æ€§å¥–åŠ±è®°å½•
- ç´¯è®¡GMVå’Œåˆ†æˆç»Ÿè®¡

#### 2. referral_commissionsï¼ˆæ¨å¹¿åˆ†æˆè®°å½•ï¼‰
- æ¯ç¬”æ”¯ä»˜çš„åˆ†æˆè®°å½•
- ç»“ç®—çŠ¶æ€ç®¡ç†
- ç»“ç®—å‘¨æœŸç®¡ç†

#### 3. couponsï¼ˆä¼˜æƒ åˆ¸ï¼‰
- ä¼˜æƒ åˆ¸åŸºæœ¬ä¿¡æ¯
- æœ‰æ•ˆæœŸå’Œä½¿ç”¨é™åˆ¶
- é€‚ç”¨å•†å“/åˆ†ç±»

#### 4. coupon_usagesï¼ˆä¼˜æƒ åˆ¸ä½¿ç”¨è®°å½•ï¼‰
- ä½¿ç”¨å†å²è®°å½•
- æŠ˜æ‰£é‡‘é¢è®°å½•

#### 5. auto_earn_tasksï¼ˆè‡ªåŠ¨èµšé’±ä»»åŠ¡ï¼‰
- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯
- æ‰§è¡ŒçŠ¶æ€å’Œç»“æœ
- å¥–åŠ±ä¿¡æ¯

#### 6. airdropsï¼ˆç©ºæŠ•è®°å½•ï¼‰
- ç©ºæŠ•é¡¹ç›®ä¿¡æ¯
- é¢†å–çŠ¶æ€
- é¢†å–äº¤æ˜“è®°å½•

---

## ğŸ”„ å®šæ—¶ä»»åŠ¡

### å·²é…ç½®çš„å®šæ—¶ä»»åŠ¡
1. **æ¯å‘¨ä¸€å‡Œæ™¨2ç‚¹**: è‡ªåŠ¨ç»“ç®—æ¨å¹¿åˆ†æˆ
2. **æ¯å°æ—¶**: è‡ªåŠ¨ç›‘æ§ç©ºæŠ•æœºä¼š
3. **æ¯å¤©å‡Œæ™¨2ç‚¹**: æ£€æŸ¥è¿‡æœŸç©ºæŠ•

---

## ğŸ“ APIç«¯ç‚¹æ¸…å•

### æ¨å¹¿ç›¸å…³ï¼ˆ9ä¸ªï¼‰
- `POST /referral` - åˆ›å»ºæ¨å¹¿å…³ç³»
- `GET /referral/my-referrals` - è·å–æˆ‘çš„æ¨å¹¿å…³ç³»
- `GET /referral/stats` - è·å–æ¨å¹¿ç»Ÿè®¡
- `GET /referral/:referralId` - è·å–æ¨å¹¿å…³ç³»è¯¦æƒ…
- `PUT /referral/:referralId/status` - æ›´æ–°æ¨å¹¿å…³ç³»çŠ¶æ€
- `GET /referral/:referralId/commissions` - è·å–åˆ†æˆè®°å½•
- `GET /referral/commissions/pending` - è·å–å¾…ç»“ç®—åˆ†æˆ
- `GET /referral/commissions/settled` - è·å–å·²ç»“ç®—åˆ†æˆ
- `POST /referral/commissions/settle` - æ‰‹åŠ¨è§¦å‘ç»“ç®—

### ä¼˜æƒ åˆ¸ç›¸å…³ï¼ˆ5ä¸ªï¼‰
- `POST /coupon` - åˆ›å»ºä¼˜æƒ åˆ¸
- `GET /coupon/merchant/:id` - è·å–å•†æˆ·ä¼˜æƒ åˆ¸åˆ—è¡¨
- `GET /coupon/available` - æŸ¥æ‰¾å¯ç”¨ä¼˜æƒ åˆ¸
- `POST /coupon/calculate` - è®¡ç®—ä¼˜æƒ åˆ¸æŠ˜æ‰£
- `POST /coupon/apply` - åº”ç”¨ä¼˜æƒ åˆ¸

### ç‰©æµç›¸å…³ï¼ˆ3ä¸ªï¼Œå¢å¼ºï¼‰
- `GET /logistics/tracking/:orderId` - è·å–ç‰©æµè·Ÿè¸ªä¿¡æ¯
- `POST /logistics/tracking/:orderId/auto-update` - è‡ªåŠ¨æ›´æ–°ç‰©æµçŠ¶æ€
- `PUT /logistics/:orderId/status` - æ›´æ–°ç‰©æµçŠ¶æ€

### Auto-Earnç›¸å…³ï¼ˆ8ä¸ªï¼Œæ–°å¢4ä¸ªï¼‰
- `GET /auto-earn/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `POST /auto-earn/tasks/:taskId/execute` - æ‰§è¡Œä»»åŠ¡
- `GET /auto-earn/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `POST /auto-earn/strategies/:strategyId/toggle` - åˆ‡æ¢ç­–ç•¥
- `GET /auto-earn/airdrops` - è·å–ç©ºæŠ•åˆ—è¡¨ï¼ˆæ–°å¢ï¼‰
- `POST /auto-earn/airdrops/discover` - å‘ç°ç©ºæŠ•ï¼ˆæ–°å¢ï¼‰
- `POST /auto-earn/airdrops/:airdropId/check-eligibility` - æ£€æŸ¥æ¡ä»¶ï¼ˆæ–°å¢ï¼‰
- `POST /auto-earn/airdrops/:airdropId/claim` - é¢†å–ç©ºæŠ•ï¼ˆæ–°å¢ï¼‰

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. æ•°æ®åº“è¿ç§»
```bash
cd backend
npm run migration:run
```

### 2. å¯åŠ¨æœåŠ¡
```bash
# åç«¯
cd backend
npm run start:dev

# å‰ç«¯
cd paymindfrontend
npm run dev
```

### 3. è®¿é—®åœ°å€
- å‰ç«¯: http://localhost:3000
- åç«¯API: http://localhost:3001/api
- Swaggeræ–‡æ¡£: http://localhost:3001/api/docs

---

## ğŸ“‹ æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•æ¸…å•
1. **æ¨å¹¿åŠŸèƒ½**
   - [ ] åˆ›å»ºæ¨å¹¿å…³ç³»
   - [ ] æ”¯ä»˜åè‡ªåŠ¨è®°å½•åˆ†æˆ
   - [ ] æŸ¥çœ‹æ¨å¹¿ç»Ÿè®¡
   - [ ] æŸ¥çœ‹åˆ†æˆè®°å½•
   - [ ] æ‰‹åŠ¨è§¦å‘ç»“ç®—

2. **ä¼˜æƒ åˆ¸åŠŸèƒ½**
   - [ ] åˆ›å»ºä¼˜æƒ åˆ¸
   - [ ] è‡ªåŠ¨æŸ¥æ‰¾å¯ç”¨ä¼˜æƒ åˆ¸
   - [ ] è®¡ç®—æŠ˜æ‰£é‡‘é¢
   - [ ] åœ¨è´­ç‰©è½¦ä¸­ä½¿ç”¨ä¼˜æƒ åˆ¸
   - [ ] æŸ¥çœ‹ä½¿ç”¨è®°å½•

3. **ç‰©æµè·Ÿè¸ªåŠŸèƒ½**
   - [ ] æŸ¥çœ‹ç‰©æµè·Ÿè¸ªä¿¡æ¯
   - [ ] è‡ªåŠ¨æ›´æ–°ç‰©æµçŠ¶æ€
   - [ ] æŸ¥çœ‹ç‰©æµäº‹ä»¶æ—¶é—´çº¿
   - [ ] åœ¨è®¢å•åˆ—è¡¨ä¸­æŸ¥çœ‹ç‰©æµ

4. **Auto-EarnåŠŸèƒ½**
   - [ ] æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨
   - [ ] æ‰§è¡Œä»»åŠ¡
   - [ ] æŸ¥çœ‹ç»Ÿè®¡æ•°æ®
   - [ ] å‘ç°ç©ºæŠ•
   - [ ] æ£€æŸ¥ç©ºæŠ•æ¡ä»¶
   - [ ] é¢†å–ç©ºæŠ•

---

## ğŸ“ å·²çŸ¥é™åˆ¶

### Mockæ•°æ®
ä»¥ä¸‹åŠŸèƒ½å½“å‰ä½¿ç”¨MOCKæ•°æ®ï¼Œç”Ÿäº§ç¯å¢ƒéœ€è¦æ¥å…¥çœŸå®ç³»ç»Ÿï¼š
1. **ç©ºæŠ•å‘ç°** - éœ€è¦é›†æˆé“¾ä¸Šæ•°æ®æ‰«æã€ç¤¾äº¤åª’ä½“ç›‘æ§
2. **ç¬¬ä¸‰æ–¹ç‰©æµAPI** - éœ€è¦é›†æˆå¿«é€’100ã€èœé¸Ÿç­‰
3. **ä»»åŠ¡æ‰§è¡Œå¼•æ“** - éƒ¨åˆ†ç­–ç•¥éœ€è¦æ¥å…¥çœŸå®DEX API

### å¾…ä¼˜åŒ–
1. æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
2. æ€§èƒ½ä¼˜åŒ–
3. é”™è¯¯å¤„ç†å¢å¼º
4. æ—¥å¿—ç³»ç»Ÿå®Œå–„

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’ï¼ˆP1åŠŸèƒ½ï¼‰

### ä¼˜å…ˆçº§1ï¼šAuto-Earné«˜çº§åŠŸèƒ½
- è‡ªåŠ¨å¥—åˆ©
- è‡ªåŠ¨å‚ä¸Launchpad
- é“¾ä¸Šç­–ç•¥æ‰§è¡Œ
- è‡ªåŠ¨å¤æŠ•

### ä¼˜å…ˆçº§2ï¼šå•†æˆ·ç«¯è‡ªåŠ¨åŒ–èƒ½åŠ›
- AIè‡ªåŠ¨æ¥å•
- AIè‡ªåŠ¨å®¢æœ
- è‡ªåŠ¨è¥é”€
- è‡ªåŠ¨ä¸Šæ¶å•†å“
- è‡ªåŠ¨å‘è´§

### ä¼˜å…ˆçº§3ï¼šAgent Marketplaceå¢å¼º
- Agentæœç´¢å’Œæ¨èç®—æ³•
- Agentè°ƒç”¨ç»Ÿè®¡
- Agentæ”¶ç›Šå±•ç¤º
- Agentæ’è¡Œæ¦œ

---

## âœ… éªŒæ”¶ç»“è®º

**å¼€å‘çŠ¶æ€**: âœ… **P0åŠŸèƒ½å…¨éƒ¨å®Œæˆ**  
**ä»£ç è´¨é‡**: âœ… **é€šè¿‡Linteræ£€æŸ¥**  
**åŠŸèƒ½å®Œæ•´æ€§**: âœ… **100%å®Œæˆ**  
**å¯éƒ¨ç½²æ€§**: âœ… **å¯ä»¥éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ**

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ  
**å¼€å‘å®Œæˆ**: âœ… **æ˜¯**  
**æµ‹è¯•çŠ¶æ€**: â³ **å¾…æµ‹è¯•**

