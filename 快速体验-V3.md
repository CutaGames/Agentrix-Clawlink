# PayMind Agent V3.0 快速体验指南

**最简单的启动方式**

---

## 🚀 一键启动（推荐）

### Windows用户

**双击运行**:
```
启动所有服务-V3.bat
```

这个脚本会自动：
1. ✅ 检查Node.js环境
2. ✅ 检查并安装依赖
3. ✅ 运行数据库迁移
4. ✅ 启动后端服务（新窗口）
5. ✅ 启动前端服务（新窗口）
6. ✅ 启动SDK文档（新窗口，可选）
7. ✅ 自动打开浏览器

### Linux/WSL用户

```bash
# 添加执行权限
chmod +x 启动所有服务-V3.sh

# 运行
./启动所有服务-V3.sh
```

---

## 📍 访问地址

服务启动后（等待5-10秒），访问：

| 服务 | 地址 | 说明 |
|------|------|------|
| **前端应用** | http://localhost:3000 | 主应用 |
| **Agent页面** | http://localhost:3000/agent | **V3.0新UI** |
| **后端API** | http://localhost:3001/api | REST API |
| **API文档** | http://localhost:3001/api/docs | Swagger文档 |
| **SDK文档** | http://localhost:8080 | SDK使用文档 |

---

## 🎯 快速体验V3.0新功能

### 1. Agent多轮对话（新UI）

1. 访问: http://localhost:3000/agent
2. 体验新的深色主题和玻璃拟态效果
3. 发送消息: "帮我找一把游戏剑，预算20美元"
4. 继续对话: "把刚才那把加入购物车"
5. 观察Agent如何记住上下文

### 2. 情景感知推荐

在Agent对话中：
- 发送: "推荐游戏装备"
- 查看推荐卡片，每个都有推荐理由
- 点击"查看详情"或"加入购物车"

### 3. PayIntent支付流程

访问API文档: http://localhost:3001/api/docs

1. 找到 `POST /pay-intents` 端点
2. 点击"Try it out"
3. 输入测试数据
4. 执行请求
5. 查看返回的PayIntent

### 4. 沙箱执行

在Agent对话中：
- 发送: "生成支付代码示例"
- 查看生成的代码
- 点击"运行示例"测试代码

---

## 🛑 停止服务

### Windows

**方式1**: 在每个服务窗口按 `Ctrl+C`

**方式2**: 运行停止脚本
```batch
停止所有服务.bat
```

**方式3**: 使用任务管理器
- 查找 `node.exe` 进程
- 结束相关进程

### Linux/WSL

```bash
# 运行停止脚本
./停止所有服务.sh

# 或手动停止
kill $(cat .backend.pid)
kill $(cat .frontend.pid)
kill $(cat .sdk-docs.pid)
```

---

## ⚠️ 常见问题

### 端口被占用

**错误**: `Port 3000 is already in use`

**解决**:
```bash
# Windows
netstat -ano | findstr :3000
taskkill /PID <PID> /F

# Linux/WSL
lsof -ti:3000 | xargs kill -9
```

### 数据库连接失败

**检查**:
1. PostgreSQL是否运行
2. `.env`文件配置是否正确
3. 数据库用户权限

### 迁移失败

如果迁移失败，可以手动执行SQL（见 `RUN_TESTS_AND_START.md`）

---

## 📝 测试清单

启动后，快速测试：

- [ ] 前端页面能正常访问
- [ ] Agent对话功能正常
- [ ] API文档能正常打开
- [ ] 可以创建PayIntent
- [ ] 可以获取推荐
- [ ] 新UI样式正常显示

---

## 🎉 开始体验

1. **运行启动脚本**
2. **等待服务启动**（5-10秒）
3. **访问Agent页面**: http://localhost:3000/agent
4. **开始体验V3.0新功能！**

**祝体验愉快！** 🚀

