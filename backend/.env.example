# ===========================================
# Agentrix Backend - 环境变量配置模板
# ===========================================
# 复制此文件为 .env 并填入实际值
# 生产环境请使用 .env.production

# -------------------------------------------
# 基础配置
# -------------------------------------------
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# -------------------------------------------
# 数据库配置
# -------------------------------------------
# 重要：开发环境和生产环境必须使用不同的数据库！
# 开发环境推荐: DB_DATABASE=agentrix_dev
# 生产环境推荐: DB_DATABASE=agentrix_prod
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=agentrix
DB_PASSWORD=your_secure_password_here
DB_DATABASE=agentrix_dev
DB_SSL=false
# DB_SYNC: 开发环境可设为 true，生产环境必须为 false
DB_SYNC=true

# -------------------------------------------
# JWT 认证
# -------------------------------------------
# 生产环境必须使用强随机密钥 (至少 256 位)
# 生成命令: openssl rand -base64 64
JWT_SECRET=your_jwt_secret_here_at_least_256_bits
JWT_EXPIRES_IN=7d

# -------------------------------------------
# CORS 配置
# -------------------------------------------
CORS_ORIGIN=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# -------------------------------------------
# OAuth 配置
# -------------------------------------------
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3001/auth/google/callback

# Apple OAuth
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=
APPLE_CALLBACK_URL=http://localhost:3001/auth/apple/callback

# Twitter/X OAuth
TWITTER_CONSUMER_KEY=
TWITTER_CONSUMER_SECRET=
TWITTER_CALLBACK_URL=http://localhost:3001/auth/twitter/callback

# -------------------------------------------
# 支付服务配置
# -------------------------------------------
# Stripe - 法币支付
# 获取密钥: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
# Stripe 环境: test 或 live (由密钥前缀自动检测)
# 测试密钥以 sk_test_ 开头，生产密钥以 sk_live_ 开头

# Stripe Connect (商户分账, 可选)
STRIPE_CONNECT_CLIENT_ID=
STRIPE_CONNECT_WEBHOOK_SECRET=

# Stripe 结算配置
STRIPE_SETTLEMENT_DAYS=3
# 结算模式: auto (自动 T+3 结算) 或 manual (手动结算)
STRIPE_SETTLEMENT_MODE=auto

# -------------------------------------------
# 法币转加密 Provider
# -------------------------------------------
# Transak
TRANSAK_API_KEY=
TRANSAK_SECRET_KEY=
TRANSAK_ENVIRONMENT=STAGING

# MoonPay
MOONPAY_API_KEY=
MOONPAY_SECRET_KEY=

# Alchemy Pay
ALCHEMY_PAY_API_KEY=
ALCHEMY_PAY_SECRET=

# -------------------------------------------
# 区块链配置
# -------------------------------------------
# 以太坊
ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
ETH_TESTNET_RPC_URL=https://sepolia.infura.io/v3/YOUR_PROJECT_ID

# BSC
BSC_RPC_URL=https://bsc-dataseed.binance.org
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545

# Solana
SOL_RPC_URL=https://api.mainnet-beta.solana.com
SOL_TESTNET_RPC_URL=https://api.devnet.solana.com

# 智能合约地址
ESCROW_CONTRACT_ADDRESS=
X402_RELAYER_ADDRESS=
ARN_TOKEN_ADDRESS=

# -------------------------------------------
# MPC 钱包配置
# -------------------------------------------
MPC_PROVIDER=
MPC_API_KEY=
MPC_API_SECRET=

# -------------------------------------------
# AI 服务配置
# -------------------------------------------
# OpenAI
OPENAI_API_KEY=

# Groq
GROQ_API_KEY=

# Google Gemini
GEMINI_API_KEY=

# -------------------------------------------
# Redis 缓存 (可选)
# -------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# -------------------------------------------
# 邮件服务 (可选)
# -------------------------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@agentrix.com

# -------------------------------------------
# 文件上传
# -------------------------------------------
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# -------------------------------------------
# 日志配置
# -------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=json

# -------------------------------------------
# 速率限制
# -------------------------------------------
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# -------------------------------------------
# 安全配置
# -------------------------------------------
# API 密钥加密密钥
API_KEY_ENCRYPTION_SECRET=

# 会话密钥
SESSION_SECRET=
