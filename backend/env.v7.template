# ===== V7.0 统一支付配置 =====
# 复制此文件为 .env 并填入实际值
# 或将这些配置添加到现有的 .env 文件中

# ===== Relayer配置 =====
# Relayer钱包私钥（用于代付Gas）
# 警告：不要提交真实私钥到Git！
RELAYER_PRIVATE_KEY=your_relayer_wallet_private_key_here

# RPC服务地址（BSC测试网）
RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
# 其他BSC测试网RPC选项：
# RPC_URL=https://bsc-testnet.public.blastapi.io
# RPC_URL=https://bsc-testnet-rpc.publicnode.com

# ===== 合约地址 =====
# ERC-8004合约地址（部署后获取）
ERC8004_CONTRACT_ADDRESS=0x...

# Commission合约地址（重新部署后更新）
COMMISSION_CONTRACT_ADDRESS=0x...
# AutoPay / SessionKey快速扣款合约
AUTO_PAY_CONTRACT_ADDRESS=0x...

# PayMind金库&系统激励池地址（部署脚本会自动填充，手动调整时需要同步更新）
PAYMIND_TREASURY_ADDRESS=0x...
SYSTEM_REBATE_POOL_ADDRESS=0x...

# USDC代币地址（BSC测试网）
# 注意：BSC测试网上可能没有官方USDC，使用测试代币地址
USDC_ADDRESS=0x64544969ed7EBf5f083679233325356EbE738930

# 链ID（BSC测试网 = 97, BSC主网 = 56）
CHAIN_ID=97

# ===== Provider配置（可选，用于Crypto-Rail） =====
# MoonPay API Key
MOONPAY_API_KEY=your_moonpay_api_key_here

# ===== Transak Provider配置 =====
# Transak API Key（用于 Widget 和 Create Session API）
# 开发环境和生产环境使用不同的 API Key
# 从 Transak Dashboard 获取：https://dashboard.transak.com/
TRANSAK_API_KEY=your_transak_api_key_here
TRANSAK_API_KEY_STAGING=
TRANSAK_API_KEY_PRODUCTION=

# Transak API Secret（用于 /api/v2/auth/token 获取 access token）
TRANSAK_API_SECRET=
TRANSAK_API_SECRET_STAGING=
TRANSAK_API_SECRET_PRODUCTION=

# Transak Access Token（可选，如果 Create Session API 需要单独的 token）
# 如果未设置，将使用 TRANSAK_API_KEY
# 注意：Create Session API 的 'access-token' header 实际使用的是 API Key
TRANSAK_ACCESS_TOKEN=

# Transak 环境（STAGING 或 PRODUCTION）
# STAGING: 使用测试环境，API URL: https://api-staging.transak.com
# PRODUCTION: 使用生产环境，API URL: https://api.transak.com
TRANSAK_ENVIRONMENT=STAGING

# Transak Webhook Secret（用于验证 Webhook 签名）
# 从 Transak Dashboard 的 Webhook 设置中获取
TRANSAK_WEBHOOK_SECRET=your_transak_webhook_secret_here

# Transak Webhook URL（可选，默认使用 API_BASE_URL + /api/payments/provider/transak/webhook）
TRANSAK_WEBHOOK_URL=

# Transak Referrer Domain（可选，用于 Create Session API）
# 如果未设置，将从 FRONTEND_URL 自动提取域名
# 例如：如果 FRONTEND_URL=https://paymind.io，则 referrerDomain=paymind.io
TRANSAK_REFERRER_DOMAIN=

# 自定义 Transak Gateway 基础地址（可选，默认根据环境自动选择）
TRANSAK_GATEWAY_BASE_URL=

# PayMind合约地址（用于Provider支付回调）
PAYMIND_CONTRACT_ADDRESS=0x...

# PayMind Off-ramp分佣费率（默认0.001 = 0.1%，可设为0）
PAYMIND_OFF_RAMP_RATE=0.001

# Agentrix On-ramp分佣费率（默认0.001 = 0.1%，可设为0）
# 注意：这是平台额外收取的费用，会在 Provider 费用基础上额外增加
# 例如：商品价格 100 USD，Provider 费用 2.99 USD，Agentrix 费用 0.1 USD，用户总共支付 103.09 USD
AGENTRIX_ON_RAMP_RATE=0.001

# ===== EPAY Provider配置 =====
# EPAY 测试账号（默认值可直接使用）
EPAY_MERCHANT_ID=test2020@epay.com
EPAY_API_KEY=2d00b386231806ec7e18e2d96dc043aa
EPAY_SECRET_KEY=2d00b386231806ec7e18e2d96dc043aa
EPAY_TEST_URL=https://29597375fx.epaydev.xyz/epayweb
EPAY_PRODUCTION_URL=https://api.epay.com
EPAY_WEBHOOK_URL=http://localhost:3001/api/payments/provider/epay/webhook
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:3001

# ===== EAS (Ethereum Attestation Service) 配置 =====
# 用于 Agent 身份背书和审计日志链上锚定
# 注：测试阶段可跳过，不影响核心支付流程

# EAS 合约地址（根据网络选择）
# Ethereum Mainnet: 0xA1207F3BBa224E2c9c3c6D5aF63D0eb1582Ce587
# Ethereum Sepolia: 0xC2679fBD37d54388Ce493F1DB75320D236e1815e
# Base Mainnet: 0x4200000000000000000000000000000000000021
# Arbitrum One: 0xbD75f629A22Dc1ceD33dDA0b68c546A1c035c458
# Optimism: 0x4200000000000000000000000000000000000021
EAS_CONTRACT_ADDRESS=0xC2679fBD37d54388Ce493F1DB75320D236e1815e

# EAS Schema Registry 合约地址（根据网络选择）
# Ethereum Mainnet: 0xA7b39296258348C78294F95B872b282326A97BDF
# Ethereum Sepolia: 0x0a7E2Ff54e76B8E6659aedc9103FB21c038050D0
# Base Mainnet: 0x4200000000000000000000000000000000000020
# Arbitrum One: 0xA310da9c5B885E7fb3fbA9D66E9Ba6Df512b78eB
# Optimism: 0x4200000000000000000000000000000000000020
EAS_SCHEMA_REGISTRY_ADDRESS=0x0a7E2Ff54e76B8E6659aedc9103FB21c038050D0

# EAS Signer 私钥（用于发布存证，需要 Gas 费）
# 警告：不要提交真实私钥到 Git！
EAS_SIGNER_PRIVATE_KEY=your_eas_signer_private_key_here

# EAS RPC URL（如果与主 RPC_URL 不同，可单独配置）
# 通常使用 Ethereum 或 L2 网络
EAS_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY

# 预注册的 EAS Schema UIDs（在 attest.sh 注册后填入）
# Agent 注册存证 Schema
EAS_SCHEMA_AGENT_REGISTRATION=
# Skill 发布存证 Schema  
EAS_SCHEMA_SKILL_PUBLICATION=
# 审计 Root 存证 Schema
EAS_SCHEMA_AUDIT_ROOT=
# 交易存证 Schema
EAS_SCHEMA_TRANSACTION=

# ===== 数据库配置（已有） =====
# DATABASE_URL=postgresql://...
# ... 其他数据库配置

# ===== 其他配置 =====
# ... 其他现有配置

