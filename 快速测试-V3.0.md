# Agentrix V3.0 快速测试指南

## 🚀 快速开始

### 1. 启动服务

```bash
# 启动后端（WSL）
cd backend
npm run start:dev

# 启动前端（新终端，WSL）
cd agentrixfrontend
npm run dev
```

### 2. 访问测试页面

打开浏览器访问：
- **首页**: http://localhost:3000
- **支付演示**: http://localhost:3000/payment-demo
- **Agent页面**: http://localhost:3000/agent

---

## ✅ 快速验证（5分钟）

### 步骤1：访问支付演示页面
1. 打开 `http://localhost:3000/payment-demo`
2. 点击"体验统一支付流程"按钮

### 步骤2：验证显示内容
检查以下内容是否正确显示：
- ✅ **总手续费**（百分比格式，如"3.5%"）
- ✅ **汇率**（如果涉及转换，如"1 CNY = 0.142 USDC"）
- ✅ **KYC要求**（如果需要）
- ✅ **QuickPay授权状态**（如果已授权）

### 步骤3：测试不同场景
1. **法币支付（实体商品）**：总手续费应为3.5%
2. **法币支付（服务，有Agent）**：总手续费应为7%
3. **数字货币支付（实体商品）**：总手续费应为0.5%，无汇率显示
4. **数字货币支付（服务，有Agent）**：总手续费应为4%，无汇率显示

---

## 📋 验证清单

- [ ] 后端服务运行正常
- [ ] 前端服务运行正常
- [ ] 支付选项列表显示
- [ ] 总手续费显示正确
- [ ] 汇率显示正确（如果涉及转换）
- [ ] KYC要求显示正确
- [ ] QuickPay授权状态显示正确
- [ ] 无编译错误
- [ ] 无运行时错误

---

## 🎯 预期结果

### 法币支付（实体商品，无Agent）
```
总手续费: 3.5%
汇率: 1 CNY = 0.142 USDC
[需要KYC] [QuickPay已授权]
```

### 数字货币支付（服务/数字资产，有Agent）
```
总手续费: 4%
[QuickPay已授权]
```

---

## 🐛 如果遇到问题

### 问题1：服务未启动
**解决方法**：
- 检查端口是否被占用
- 检查WSL环境
- 查看服务日志

### 问题2：总手续费显示不正确
**解决方法**：
- 检查订单类型是否正确传递
- 检查是否有Agent ID
- 查看浏览器控制台错误

### 问题3：汇率不显示
**解决方法**：
- 检查是否涉及法币和数字货币转换
- 检查后端API响应

---

## 📝 测试完成

如果所有验证点都通过，说明V3.0支付流程优化功能正常工作！

**可以继续开发其他功能或进行更详细的测试。**

