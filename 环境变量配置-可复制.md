# PayMind 环境变量配置（可复制）

## 📋 已部署的合约地址

```
PaymentRouter: 0xbBA736988C90385a32cebf0900F8C31877cFa861
X402Adapter: 0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
AutoPay: 0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
Commission: 0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
ERC8004SessionManager: 0x88b3993250Da39041C9263358C3c24C6a69a955e
```

---

## 1️⃣ 合约目录 `.env` 配置

**文件路径**: `contract/.env`

```env
# BSC 测试网 RPC（如果还没有配置）
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545

# BSCScan API Key（用于验证合约，如果还没有配置）
BSCSCAN_API_KEY=你的_BSCScan_API_Key

# 已部署的合约地址
ERC8004_CONTRACT_ADDRESS=0x88b3993250Da39041C9263358C3c24C6a69a955e
COMMISSION_ADDRESS=0xd220A50F62a333929cB1a219134dF7D4c3e2f62F

# Commission 配置
SETTLEMENT_TOKEN_ADDRESS=0x337610d27c682E347C9cD60BD4b3b107C9d34dDd
PAYMIND_TREASURY_ADDRESS=0x2bee8AE78e4E41cf7facc4A4387A8F299dd2b8f3
SYSTEM_REBATE_POOL_ADDRESS=0x2bee8AE78e4E41cf7facc4A4387A8F299dd2b8f3

# 注意：PRIVATE_KEY 需要你自己配置，不要分享给任何人
```

---

## 2️⃣ 后端 `.env` 配置

**文件路径**: `backend/.env`

```env
# ============================================
# PayMind 智能合约地址（BSC 测试网）
# ============================================
PAYMENT_ROUTER_ADDRESS=0xbBA736988C90385a32cebf0900F8C31877cFa861
X402_ADAPTER_ADDRESS=0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
AUTO_PAY_ADDRESS=0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
COMMISSION_ADDRESS=0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
ERC8004_CONTRACT_ADDRESS=0x88b3993250Da39041C9263358C3c24C6a69a955e

# ============================================
# BSC 测试网配置
# ============================================
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
BSC_TESTNET_CHAIN_ID=97

# ============================================
# 其他后端配置（根据你的现有配置添加）
# ============================================
# DATABASE_URL=...
# JWT_SECRET=...
# 等等...
```

---

## 3️⃣ 前端 `.env.local` 配置

**文件路径**: `paymindfrontend/.env.local`

```env
# ============================================
# PayMind 智能合约地址（BSC 测试网）
# ============================================
NEXT_PUBLIC_PAYMENT_ROUTER_ADDRESS=0xbBA736988C90385a32cebf0900F8C31877cFa861
NEXT_PUBLIC_X402_ADAPTER_ADDRESS=0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
NEXT_PUBLIC_AUTO_PAY_ADDRESS=0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
NEXT_PUBLIC_COMMISSION_ADDRESS=0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
NEXT_PUBLIC_ERC8004_CONTRACT_ADDRESS=0x88b3993250Da39041C9263358C3c24C6a69a955e

# ============================================
# BSC 测试网配置
# ============================================
NEXT_PUBLIC_BSC_TESTNET_CHAIN_ID=97
NEXT_PUBLIC_BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545

# ============================================
# 其他前端配置（根据你的现有配置添加）
# ============================================
# NEXT_PUBLIC_API_URL=...
# 等等...
```

---

## 📝 快速复制区域

### 后端环境变量（一键复制）

```env
PAYMENT_ROUTER_ADDRESS=0xbBA736988C90385a32cebf0900F8C31877cFa861
X402_ADAPTER_ADDRESS=0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
AUTO_PAY_ADDRESS=0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
COMMISSION_ADDRESS=0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
ERC8004_CONTRACT_ADDRESS=0x88b3993250Da39041C9263358C3c24C6a69a955e
BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
BSC_TESTNET_CHAIN_ID=97
```

### 前端环境变量（一键复制）

```env
NEXT_PUBLIC_PAYMENT_ROUTER_ADDRESS=0xbBA736988C90385a32cebf0900F8C31877cFa861
NEXT_PUBLIC_X402_ADAPTER_ADDRESS=0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
NEXT_PUBLIC_AUTO_PAY_ADDRESS=0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
NEXT_PUBLIC_COMMISSION_ADDRESS=0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
NEXT_PUBLIC_ERC8004_CONTRACT_ADDRESS=0x88b3993250Da39041C9263358C3c24C6a69a955e
NEXT_PUBLIC_BSC_TESTNET_CHAIN_ID=97
NEXT_PUBLIC_BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
```

---

## 🔗 BSCScan 合约链接

- **PaymentRouter**: https://testnet.bscscan.com/address/0xbBA736988C90385a32cebf0900F8C31877cFa861
- **X402Adapter**: https://testnet.bscscan.com/address/0xE206eB926bce2C248Afe2fC730b868ea01CCf4dd
- **AutoPay**: https://testnet.bscscan.com/address/0xCDF8655835A5F3657529EBffacce3Df60AF8bFBf
- **Commission**: https://testnet.bscscan.com/address/0xd220A50F62a333929cB1a219134dF7D4c3e2f62F
- **ERC8004SessionManager**: https://testnet.bscscan.com/address/0x88b3993250Da39041C9263358C3c24C6a69a955e

---

## ✅ 配置检查清单

- [ ] 已更新 `contract/.env` 文件
- [ ] 已更新 `backend/.env` 文件
- [ ] 已更新 `paymindfrontend/.env.local` 文件
- [ ] 重启后端服务（如果正在运行）
- [ ] 重启前端服务（如果正在运行）

---

## ⚠️ 重要提示

1. **私钥安全**: `PRIVATE_KEY` 等敏感信息需要你自己配置，不要分享给任何人
2. **环境变量优先级**: 
   - 后端使用 `.env` 文件
   - 前端使用 `.env.local` 文件（不会被 Git 提交）
3. **重启服务**: 更新环境变量后，需要重启服务才能生效

