# åˆ›å»ºæµ‹è¯•å•†å“è¯´æ˜

## æ–¹æ³• 1ï¼šé€šè¿‡ API åˆ›å»ºï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šè·å– JWT Token

1. åœ¨å‰ç«¯ç™»å½•æµ‹è¯•è´¦æˆ· `pm-1763463490911-91zf91wu2`
2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
3. è¿›å…¥ Application -> Local Storage
4. æŸ¥æ‰¾ `token` æˆ– `authToken` å­—æ®µ
5. å¤åˆ¶ token å€¼

### æ­¥éª¤ 2ï¼šè¿è¡Œè„šæœ¬

```bash
cd backend
TOKEN=your_jwt_token npx ts-node scripts/create-test-products-api.ts
```

æˆ–è€…ï¼š

```bash
cd backend
npx ts-node scripts/create-test-products-api.ts your_jwt_token
```

## æ–¹æ³• 2ï¼šä½¿ç”¨ curl å‘½ä»¤

```bash
# è®¾ç½®å˜é‡
TOKEN="your_jwt_token"
API_URL="http://localhost:3001/api"

# åˆ›å»º QuickPay å•†å“
curl -X POST "$API_URL/products" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "name": "ğŸ“š é«˜çº§é˜…è¯»æœåŠ¡ - QuickPay ä½“éªŒ",
    "description": "é€‚åˆ QuickPay å°é¢æ”¯ä»˜çš„é˜…è¯»æœåŠ¡äº§å“ã€‚ä½¿ç”¨ X402 åè®®å¿«é€Ÿæ”¯ä»˜ï¼Œé€‚åˆå°é¢é«˜é¢‘åœºæ™¯ã€‚",
    "price": 0.1,
    "stock": 1000,
    "category": "æœåŠ¡",
    "commissionRate": 5,
    "productType": "service",
    "metadata": {
      "productType": "service",
      "currency": "USDT",
      "paymentMethod": "quickpay",
      "x402Enabled": true,
      "assetType": "service",
      "image": "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400"
    }
  }'

# åˆ›å»º NFT å•†å“
curl -X POST "$API_URL/products" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "name": "ğŸ® NFT æ¸¸æˆé“å…· - ä¼ å¥‡ä¹‹å‰‘",
    "description": "é™é‡ç‰ˆ NFT æ¸¸æˆé“å…·ï¼Œå¯åœ¨æ¸¸æˆä¸­ä½¿ç”¨çš„ä¼ å¥‡ä¹‹å‰‘ã€‚æ”¯æŒæ•°å­—è´§å¸é’±åŒ…æ”¯ä»˜ï¼Œé€‚åˆ Web3 ç”¨æˆ·ã€‚",
    "price": 10,
    "stock": 100,
    "category": "NFT",
    "commissionRate": 8,
    "productType": "nft",
    "metadata": {
      "productType": "nft",
      "currency": "USDT",
      "paymentMethod": "wallet",
      "assetType": "nft_rwa",
      "chain": "BSC",
      "contractAddress": "0x0000000000000000000000000000000000000000",
      "tokenId": "1",
      "image": "https://images.unsplash.com/photo-1639322537504-6427a16b0a38?w=400"
    }
  }'

# åˆ›å»º Stripe å•†å“
curl -X POST "$API_URL/products" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "name": "ğŸ’³ é«˜çº§ä¼šå‘˜æœåŠ¡ - Stripe æ”¯ä»˜",
    "description": "é«˜çº§ä¼šå‘˜æœåŠ¡ï¼Œæ”¯æŒ Stripe æ”¯ä»˜æ–¹å¼ã€‚ä¸»è¦ç”¨äºæµ‹è¯•ä½£é‡‘åˆ†é…æœºåˆ¶å’Œç»“ç®—æµç¨‹ã€‚",
    "price": 500,
    "stock": 50,
    "category": "æœåŠ¡",
    "commissionRate": 10,
    "productType": "service",
    "metadata": {
      "productType": "service",
      "currency": "CNY",
      "paymentMethod": "stripe",
      "assetType": "aggregated_web2",
      "image": "https://images.unsplash.com/photo-1551434678-e076c223a692?w=400"
    }
  }'
```

## æ–¹æ³• 3ï¼šé€šè¿‡å‰ç«¯ç•Œé¢åˆ›å»º

1. ç™»å½•æµ‹è¯•è´¦æˆ·
2. è®¿é—®å•†æˆ·åå°ï¼š`http://localhost:3000/app/merchant/products`
3. ç‚¹å‡»"æ·»åŠ å•†å“"
4. å¡«å†™å•†å“ä¿¡æ¯
5. ä¿å­˜

## éªŒè¯å•†å“åˆ›å»º

è®¿é—®ä»¥ä¸‹é¡µé¢æŸ¥çœ‹å•†å“ï¼š

- Marketplace: `http://localhost:3000/marketplace`
- æµ‹è¯•åœºæ™¯: `http://localhost:3000/test-scenarios`
- API: `http://localhost:3001/api/products`

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ
2. ç¡®ä¿æµ‹è¯•è´¦æˆ·å·²æ³¨å†Œå¹¶å…·æœ‰ merchant è§’è‰²
3. å¦‚æœè´¦æˆ·æ²¡æœ‰ merchant è§’è‰²ï¼Œå¯ä»¥é€šè¿‡ Agent æ³¨å†Œï¼š
   - æ‰“å¼€ Agent é¡µé¢
   - è¾“å…¥ï¼š"æ³¨å†Œå•†æˆ·"
   - Agent ä¼šè‡ªåŠ¨ä¸ºç”¨æˆ·æ·»åŠ  merchant è§’è‰²

