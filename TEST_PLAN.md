# Agentrix Mobile App MVP — 手动测试指南

**版本**: MVP 3.0 (W1+W2)  
**日期**: 2026-02-12  
**适用**: iOS (Expo Go) / Android (Expo Go 或 Dev Build)

---

## 0. 环境准备

### 0.1 启动开发服务器

```bash
cd mobile-app

# 安装依赖 (首次或依赖变更后)
npm install --legacy-peer-deps

# 启动 Expo
npx expo start

# 如果 WSL 网络不通，使用 tunnel 模式:
npx expo start --tunnel
```

### 0.2 连接设备

| 方式 | 步骤 |
|------|------|
| **iOS 真机** | 安装 Expo Go → 扫描终端二维码 |
| **Android 真机** | 安装 Expo Go → 扫描终端二维码 |
| **iOS 模拟器** | 按 `i` 键启动 |
| **Android 模拟器** | 按 `a` 键启动 |

### 0.3 编译预检 (可选)

```bash
npx tsc --noEmit 2>&1 | grep 'error TS' | grep -v 'IdentityActivation'
# 预期: 无输出 (0 errors)
```

---

## 1. MT-001: 应用启动 + 3-Tab 导航

**优先级**: P0 — 必须通过

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 打开 Expo Go，扫码连接 | 应用加载，无白屏/崩溃 |
| 2 | 观察底部 Tab 栏 | 显示 3 个 Tab: 市场 / 推广 / 我的 |
| 3 | 点击「市场」Tab | 切换到市场首页，显示搜索栏和分类 Tab |
| 4 | 点击「推广」Tab | 切换到推广总览，显示今日数据和佣金 |
| 5 | 点击「我的」Tab | 切换到个人页面，显示用户信息和菜单 |
| 6 | 快速来回切换 3 个 Tab | 无闪烁、无崩溃、Tab 高亮正确 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 2. MT-002: 市场首页 + 技能卡片

**优先级**: P0

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 在市场页，观察顶部分类 Tab | 显示「资源」「技能」「任务」三个 Tab |
| 2 | 点击切换分类 Tab | 列表内容切换，当前 Tab 高亮 |
| 3 | 观察技能卡片 | 每张卡片显示: 名称、评分⭐、价格、点赞👍、使用人数🔥 |
| 4 | 找到带 🤖 标识的卡片 | Agent 兼容标识正确显示 |
| 5 | 下拉刷新 | 出现刷新动画，数据重新加载 |
| 6 | 在搜索栏输入关键词 | 列表根据关键词过滤 |
| 7 | 点击卡片上的「推广」按钮 | 跳转到创建推广链接页面 |
| 8 | 点击卡片本身 | 跳转到技能详情页 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 3. MT-003: 技能详情 + 购买 + 推广引导

**优先级**: P0

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 从市场点击任意技能卡片 | 进入详情页，显示完整信息 |
| 2 | 观察页面内容 | 包含: 名称、描述、标签、评分、使用统计、评价区 |
| 3 | 点击 ❤️ 点赞按钮 | 点赞数 +1，图标变色 |
| 4 | 点击 ⭐ 收藏按钮 | 收藏状态切换 |
| 5 | 滚动到评价区 | 显示最近评价，有「查看全部」入口 |
| 6 | 点击底部「立即购买」 | 弹出确认对话框，显示价格 |
| 7 | 确认购买 | 弹出「购买成功！推广给朋友赚佣金！」 |
| 8 | 点击「立即推广」 | **ShareSheet 弹出**，显示分享渠道和文案 |
| 9 | 点击底部「推广赚钱」 | ShareSheet 弹出，可分享/复制 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 4. MT-004: 评价系统

**优先级**: P1

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 在技能详情页点击「查看全部评价」 | 进入评价列表页 |
| 2 | 滚动评价列表 | 评价卡片显示: 用户名、星级、评论内容、日期 |
| 3 | 点击「写评价」 | 进入写评价页面 |
| 4 | 点击星星选择评分 | 星星高亮，评分数字更新 |
| 5 | 输入评价内容 | 文本框可输入 |
| 6 | 不填内容直接提交 | 显示验证错误提示 |
| 7 | 填写完整后提交 | 提交成功，返回上一页 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 5. MT-005: 推广总览页

**优先级**: P0

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 切换到「推广」Tab | 显示推广总览页 |
| 2 | 观察今日数据 banner | 顶部蓝色 banner 显示「今日」+ 点击数 + 转化数 |
| 3 | 观察统计卡片 | 3 张卡片: 总邀请 / 总点击 / 转化率 |
| 4 | 观察佣金区域 | 左侧「累计佣金」大字 + 右侧「待结算」小卡 |
| 5 | 观察 QR 码区域 | **QR 码正确渲染**（非占位符），下方显示「扫码推广」 |
| 6 | 点击推广链接文字 | 弹出「已复制」提示 (或显示链接) |
| 7 | 点击「复制」按钮 | 链接复制到剪贴板 |
| 8 | 点击「分享」按钮 | **ShareSheet 弹出** |
| 9 | 点击「链接管理」按钮 | 跳转到我的链接页面 |
| 10 | 观察「快速推广热门技能」 | 显示 3 张热门技能卡，含使用人数和佣金 |
| 11 | 点击热门技能的「一键推广」 | ShareSheet 弹出，包含该技能信息 |
| 12 | 下拉刷新 | 数据重新加载 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 6. MT-006: ShareSheet 分享面板

**优先级**: P0

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 从推广页点击「分享」 | Modal 从底部弹出 |
| 2 | 观察分享渠道 | 显示: 微信好友、朋友圈、Telegram、Twitter、WhatsApp、更多 |
| 3 | 观察分享文案 | 自动生成包含技能名和链接的文案 |
| 4 | 点击「复制链接」 | 提示「已复制」 |
| 5 | 点击「生成二维码」 | 显示 QR 码 |
| 6 | 点击任意分享渠道 | 调起系统分享面板或提示 |
| 7 | 点击关闭 (X 或下拉) | Modal 关闭 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 7. MT-007: 推广链接管理

**优先级**: P1

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 从推广页点击「查看全部」或「链接管理」 | 进入我的链接页面 |
| 2 | 观察链接列表 | 每条显示: 名称、短链、点击数、转化数、佣金 |
| 3 | 点击链接的「复制」 | 链接复制到剪贴板 |
| 4 | 点击链接的「分享」 | ShareSheet 弹出 |
| 5 | 点击链接的「暂停/恢复」 | 状态切换，按钮文字变化 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 8. MT-008: 我的页面 + 子页面

**优先级**: P1

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 切换到「我的」Tab | 显示用户信息卡和菜单列表 |
| 2 | 观察佣金快捷统计 | 显示累计佣金、本月佣金、待结算 |
| 3 | 点击「我的技能」 | 进入卖家看板，显示技能列表和统计 |
| 4 | 点击「我的订单」 | 进入订单列表 |
| 5 | 点击「我的收藏」 | 进入收藏列表 |
| 6 | 点击「佣金规则」 | 进入佣金规则页，显示费率表和 FAQ |
| 7 | 点击「我的 Agent」 | 弹出「即将上线」提示 |
| 8 | 点击「设置」 | 进入设置页面 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 9. MT-009: 卖家看板

**优先级**: P1

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 从「我的」→「我的技能」 | 进入卖家看板 |
| 2 | 观察顶部统计 | 显示: 总技能数、月收入、月调用 |
| 3 | 观察技能列表 | 每个技能显示: 名称、状态、调用数、收入 |
| 4 | 点击技能的「推广」 | 跳转到创建推广链接 |
| 5 | 点击技能的「详情」 | 跳转到技能详情页 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 10. MT-010: 性能 & 边界

**优先级**: P2

| 步骤 | 操作 | 预期结果 |
|------|------|----------|
| 1 | 快速连续切换 Tab (10次) | 无卡顿、无崩溃 |
| 2 | 在市场页快速滚动列表 | 滚动流畅，无明显掉帧 |
| 3 | 断开网络后操作 | 使用 Mock 数据，不白屏 |
| 4 | 旋转设备 (横屏) | 布局不崩溃 (可不完美适配) |
| 5 | 返回按钮连续点击 | 正确返回上一页，不会退出应用 |

**结果**: [ ] PASS / [ ] FAIL  
**备注**: _______________

---

## 测试结果汇总表

请在测试完成后填写：

| 编号 | 测试项 | 结果 | 备注 |
|------|--------|------|------|
| MT-001 | 应用启动 + 3-Tab 导航 | | |
| MT-002 | 市场首页 + 技能卡片 | | |
| MT-003 | 技能详情 + 购买 + 推广引导 | | |
| MT-004 | 评价系统 | | |
| MT-005 | 推广总览页 | | |
| MT-006 | ShareSheet 分享面板 | | |
| MT-007 | 推广链接管理 | | |
| MT-008 | 我的页面 + 子页面 | | |
| MT-009 | 卖家看板 | | |
| MT-010 | 性能 & 边界 | | |

**总通过率**: ___/10  
**阻塞问题**: 无 / 有 (描述: ___)  
**测试人**: ___  
**测试日期**: ___

---

## 常见问题排查

| 问题 | 解决方案 |
|------|----------|
| Expo Go 扫码连不上 | 改用 `npx expo start --tunnel` |
| QR 码显示为文字占位符 | 确认 `react-native-qrcode-svg` 已安装: `npm ls react-native-qrcode-svg` |
| 页面白屏 | 检查终端 Metro 日志，看是否有 JS 错误 |
| 分享面板不弹出 | iOS 模拟器不支持部分分享，请用真机测试 |
| 数据不更新 | 下拉刷新，或重启 Expo |

---

**测试指南制定完成** ✅
