# 一次性修复所有编译错误 - 系统性方案

## 🎯 目标
让项目能够成功编译，不再有类型错误

## 📋 当前已知错误

1. ✅ `plugin.api.ts` - `getPlugins` 缺少 `role` 参数（已修复）

## 🔍 系统性检查清单

### 步骤1: 运行编译获取所有错误
```bash
npm run build 2>&1 | grep "Type error" | head -20
```

### 步骤2: 分类错误类型
- 类型定义缺失
- 属性不存在
- 方法签名不匹配
- 导入路径错误

### 步骤3: 批量修复
- 更新接口定义
- 修复方法调用
- 添加类型断言（临时）

## 🛠️ 快速修复策略

### 策略A: 修复类型定义（推荐）
- 在接口中添加缺失的属性
- 更新方法签名

### 策略B: 使用类型断言（临时）
- 仅在必要时使用 `as any`
- 标记为 TODO 后续修复

## ⚡ 立即行动

**请运行：**
```bash
npm run build 2>&1 | tee /tmp/all-errors.txt
```

**然后发送：**
- `/tmp/all-errors.txt` 的前50行错误
- 或者所有 "Type error" 开头的行

我会一次性修复所有问题。

