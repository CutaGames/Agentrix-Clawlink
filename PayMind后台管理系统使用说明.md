# PayMind åå°ç®¡ç†ç³»ç»Ÿä½¿ç”¨è¯´æ˜

**ç‰ˆæœ¬**: 1.0  
**æ—¥æœŸ**: 2025å¹´1æœˆ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡

#### æ–¹å¼1: ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬

**Windows PowerShell**:
```powershell
.\start-admin-test.ps1
```

**Linux/WSL**:
```bash
chmod +x start-admin-test.sh
./start-admin-test.sh
```

#### æ–¹å¼2: æ‰‹åŠ¨å¯åŠ¨

**ç»ˆç«¯1 - ä¸»APIæœåŠ¡ï¼ˆ3001ç«¯å£ï¼‰**:
```bash
cd backend
npm run start:dev
```

**ç»ˆç«¯2 - åå°ç®¡ç†æœåŠ¡ï¼ˆ3002ç«¯å£ï¼‰**:
```bash
cd backend
npm run start:admin:dev
```

**ç»ˆç«¯3 - å‰ç«¯æœåŠ¡ï¼ˆ3000ç«¯å£ï¼‰**:
```bash
cd paymindfrontend
npm run dev
```

### 2. åˆ›å»ºç®¡ç†å‘˜è´¦å·

#### æ–¹å¼1: ä½¿ç”¨SQLï¼ˆæ¨èï¼‰

```sql
-- è¿æ¥åˆ°PostgreSQL
psql -U postgres -d paymind

-- ç”Ÿæˆå¯†ç hashï¼ˆåœ¨Node.jsä¸­è¿è¡Œï¼‰
-- node -e "const bcrypt=require('bcrypt');bcrypt.hash('admin123',10).then(h=>console.log(h))"

-- æ’å…¥ç®¡ç†å‘˜ï¼ˆæ›¿æ¢YOUR_HASHä¸ºä¸Šé¢ç”Ÿæˆçš„hashï¼‰
INSERT INTO admin_users (id, username, email, "passwordHash", status, "createdAt", "updatedAt")
VALUES (
  gen_random_uuid(),
  'admin',
  'admin@paymind.io',
  'YOUR_HASH',
  'active',
  NOW(),
  NOW()
);
```

#### æ–¹å¼2: ä½¿ç”¨Node.jsè„šæœ¬

åˆ›å»ºæ–‡ä»¶ `backend/scripts/create-admin.js`:
```javascript
const bcrypt = require('bcrypt');
const { createConnection } = require('typeorm');
const { AdminUser } = require('../src/entities/admin-user.entity');

async function createAdmin() {
  const connection = await createConnection(/* your config */);
  const adminRepo = connection.getRepository(AdminUser);
  
  const passwordHash = await bcrypt.hash('admin123', 10);
  const admin = adminRepo.create({
    username: 'admin',
    email: 'admin@paymind.io',
    passwordHash,
    status: 'active',
  });
  
  await adminRepo.save(admin);
  console.log('âœ… ç®¡ç†å‘˜åˆ›å»ºæˆåŠŸ');
  await connection.close();
}

createAdmin();
```

### 3. è®¿é—®ç®¡ç†åå°

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3000/admin
2. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•:
   - ç”¨æˆ·å: `admin`
   - å¯†ç : `admin123`

---

## ğŸ“š åŠŸèƒ½ä½¿ç”¨æŒ‡å—

### ç”¨æˆ·ç®¡ç†

#### æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
1. è¿›å…¥"ç”¨æˆ·ç®¡ç†"é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰æ³¨å†Œç”¨æˆ·
3. ä½¿ç”¨æœç´¢æ¡†æœç´¢ç‰¹å®šç”¨æˆ·
4. ä½¿ç”¨ç­›é€‰å™¨æŒ‰KYCçŠ¶æ€ç­›é€‰

#### å®¡æ‰¹KYC
1. åœ¨ç”¨æˆ·åˆ—è¡¨ä¸­æ‰¾åˆ°å¾…å®¡æ‰¹ç”¨æˆ·
2. ç‚¹å‡»"æ‰¹å‡†KYC"æŒ‰é’®
3. ç”¨æˆ·çŠ¶æ€å°†æ›´æ–°ä¸º"å·²è®¤è¯"

#### æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…
1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„"æŸ¥çœ‹"æŒ‰é’®
2. æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ã€ç»Ÿè®¡ã€äº¤æ˜“è®°å½•ç­‰

### å•†æˆ·ç®¡ç†

#### æŸ¥çœ‹å•†æˆ·åˆ—è¡¨
1. è¿›å…¥"å•†æˆ·ç®¡ç†"é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰å•†æˆ·åŠå…¶ç»Ÿè®¡ä¿¡æ¯
3. æŸ¥çœ‹æ¯ä¸ªå•†æˆ·çš„å•†å“æ•°ã€è®¢å•æ•°ã€æ€»GMV

#### æŸ¥çœ‹å•†æˆ·è¯¦æƒ…
1. ç‚¹å‡»å•†æˆ·è¡Œçš„"æŸ¥çœ‹"æŒ‰é’®
2. æŸ¥çœ‹å•†æˆ·è¯¦ç»†ä¿¡æ¯ã€å•†å“ã€è®¢å•ã€ç»“ç®—ç­‰

### å¼€å‘è€…ç®¡ç†

#### æŸ¥çœ‹å¼€å‘è€…åˆ—è¡¨
1. è¿›å…¥"å¼€å‘è€…ç®¡ç†"é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰å¼€å‘è€…åŠå…¶Agentç»Ÿè®¡
3. æŸ¥çœ‹æ¯ä¸ªå¼€å‘è€…çš„æ”¶ç›Šç»Ÿè®¡

### æ¨å¹¿è€…ç®¡ç†

#### æŸ¥çœ‹æ¨å¹¿è€…åˆ—è¡¨
1. è¿›å…¥"æ¨å¹¿è€…ç®¡ç†"é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰æ¨å¹¿è€…åŠå…¶æ¨å¹¿ç»Ÿè®¡
3. æŸ¥çœ‹æ¯ä¸ªæ¨å¹¿è€…çš„åˆ†æˆç»Ÿè®¡

### å·¥å•ç®¡ç†

#### å¤„ç†å·¥å•
1. è¿›å…¥"å·¥å•ç®¡ç†"é¡µé¢
2. ä½¿ç”¨çŠ¶æ€ç­›é€‰æŸ¥çœ‹å¾…å¤„ç†å·¥å•
3. ç‚¹å‡»"æŸ¥çœ‹"è¿›å…¥å·¥å•è¯¦æƒ…
4. å›å¤å·¥å•æˆ–æ›´æ–°å·¥å•çŠ¶æ€

### è¥é”€ç®¡ç†

#### ç®¡ç†è¥é”€æ´»åŠ¨
1. è¿›å…¥"è¥é”€ç®¡ç†"é¡µé¢
2. åˆ‡æ¢åˆ°"è¥é”€æ´»åŠ¨"æ ‡ç­¾
3. æŸ¥çœ‹æ‰€æœ‰è¥é”€æ´»åŠ¨
4. åˆ›å»ºæ–°çš„è¥é”€æ´»åŠ¨

#### ç®¡ç†ä¼˜æƒ åˆ¸
1. åˆ‡æ¢åˆ°"ä¼˜æƒ åˆ¸"æ ‡ç­¾
2. æŸ¥çœ‹æ‰€æœ‰ä¼˜æƒ åˆ¸
3. åˆ›å»ºæ–°çš„ä¼˜æƒ åˆ¸
4. æŸ¥çœ‹ä¼˜æƒ åˆ¸ä½¿ç”¨æƒ…å†µ

### é£æ§ç®¡ç†

#### æŸ¥çœ‹é£é™©è¯„ä¼°
1. è¿›å…¥"é£æ§ç®¡ç†"é¡µé¢
2. åˆ‡æ¢åˆ°"é£é™©è¯„ä¼°"æ ‡ç­¾
3. æŸ¥çœ‹æ‰€æœ‰é£é™©è¯„ä¼°è®°å½•
4. æŸ¥çœ‹é£é™©è¯„åˆ†å’Œå†³ç­–

#### ç®¡ç†é£é™©è®¢å•
1. åˆ‡æ¢åˆ°"é£é™©è®¢å•"æ ‡ç­¾
2. æŸ¥çœ‹é«˜é£é™©è®¢å•
3. å†»ç»“æˆ–è§£å†»è®¢å•

### ç³»ç»Ÿç®¡ç†

#### ç®¡ç†ç®¡ç†å‘˜
1. è¿›å…¥"ç³»ç»Ÿç®¡ç†"é¡µé¢
2. åˆ‡æ¢åˆ°"ç®¡ç†å‘˜"æ ‡ç­¾
3. æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜
4. åˆ›å»ºæ–°ç®¡ç†å‘˜

#### ç®¡ç†è§’è‰²
1. åˆ‡æ¢åˆ°"è§’è‰²æƒé™"æ ‡ç­¾
2. æŸ¥çœ‹æ‰€æœ‰è§’è‰²
3. åˆ›å»ºæ–°è§’è‰²
4. é…ç½®è§’è‰²æƒé™

#### ç®¡ç†ç³»ç»Ÿé…ç½®
1. åˆ‡æ¢åˆ°"ç³»ç»Ÿé…ç½®"æ ‡ç­¾
2. æŸ¥çœ‹æ‰€æœ‰ç³»ç»Ÿé…ç½®
3. ç¼–è¾‘é…ç½®å€¼

---

## ğŸ§ª æµ‹è¯•

### è¿è¡ŒAPIæµ‹è¯•

#### Windows PowerShell
```powershell
cd backend
.\test-admin-api.ps1
```

#### Linux/WSL
```bash
cd backend
chmod +x test-admin-api.sh
./test-admin-api.sh
```

### æ‰‹åŠ¨æµ‹è¯•

#### æµ‹è¯•ç™»å½•
```bash
curl -X POST http://localhost:3002/api/admin/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

#### æµ‹è¯•è·å–ç”¨æˆ·åˆ—è¡¨
```bash
curl -X GET "http://localhost:3002/api/admin/users?page=1&limit=10" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## ğŸ“Š ç«¯å£è¯´æ˜

| ç«¯å£ | æœåŠ¡ | è®¿é—®åœ°å€ |
|------|------|---------|
| 3000 | å®˜ç½‘å‰ç«¯ | http://localhost:3000 |
| 3001 | APIæ–‡æ¡£ | http://localhost:3001/api/docs |
| 3002 | åå°ç®¡ç†API | http://localhost:3002/api/admin |
| 3004 | SDKæ–‡æ¡£ | http://localhost:3004 |

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: æ— æ³•ç™»å½•
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ç®¡ç†å‘˜è´¦å·æ˜¯å¦å·²åˆ›å»º
2. æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æ•°æ®åº“è¿æ¥

### é—®é¢˜2: APIè¿”å›401
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Tokenæ˜¯å¦æœ‰æ•ˆ
2. é‡æ–°ç™»å½•è·å–æ–°Token
3. æ£€æŸ¥è¯·æ±‚å¤´æ˜¯å¦æ­£ç¡®

### é—®é¢˜3: é¡µé¢æ— æ³•åŠ è½½æ•°æ®
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥APIåœ°å€æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“è¿ç§»**: é¦–æ¬¡ä½¿ç”¨éœ€è¦è¿è¡Œæ•°æ®åº“è¿ç§»
2. **ç®¡ç†å‘˜åˆ›å»º**: éœ€è¦å…ˆåˆ›å»ºç®¡ç†å‘˜è´¦å·æ‰èƒ½ç™»å½•
3. **ç«¯å£å ç”¨**: ç¡®ä¿3000ã€3001ã€3002ç«¯å£æœªè¢«å ç”¨
4. **CORSé…ç½®**: ç¡®ä¿CORSé…ç½®å…è®¸å‰ç«¯è®¿é—®

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ

