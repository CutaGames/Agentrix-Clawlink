# Agentrix Mobile App 测试计划

**版本**: 2.0.0  
**日期**: 2026-02-01  
**测试类型**: 功能测试 + 编译验证

---

## 1. 测试范围

### 1.1 核心功能模块

| 模块 | 功能点 | 优先级 |
|-----|-------|--------|
| 身份系统 | 身份切换 (个人/商户/开发者) | P0 |
| 身份系统 | 未激活身份锁定显示 | P0 |
| 身份系统 | 身份激活申请 | P1 |
| 个人身份 | 资产总览 | P0 |
| 个人身份 | 空投发现与领取 | P1 |
| 个人身份 | AutoEarn 策略管理 | P1 |
| 个人身份 | Agent 列表与对话 | P2 |
| 商户身份 | 收款概览 | P0 |
| 商户身份 | 快速收款 | P1 |
| 商户身份 | 分佣计划 | P1 |
| 开发者身份 | 收益总览 | P0 |
| 开发者身份 | 任务市场 | P2 |
| 开发者身份 | 预算池管理 | P2 |
| 通用 | 底部 Tab 导航 | P0 |
| 通用 | 推送通知 | P2 |
| 通用 | 生物识别 | P2 |
| 通用 | 社交分享 | P2 |

### 1.2 技术验证

- TypeScript 编译无错误
- Expo 启动无崩溃
- 导航流程正常
- API 服务层可调用

---

## 2. 测试用例

### TC-001: TypeScript 编译验证
**步骤**: 
1. 运行 `npx tsc --noEmit`

**预期结果**: 无错误输出

---

### TC-002: 底部 Tab 导航
**步骤**:
1. 启动应用
2. 依次点击 首页、资产、活动、我的 Tab

**预期结果**: 
- 4 个 Tab 均可点击
- 页面正确切换
- Tab 图标高亮状态正确

---

### TC-003: 身份切换功能
**步骤**:
1. 进入首页
2. 点击顶部 "个人" Tab
3. 点击 "商户" Tab
4. 点击 "开发者" Tab

**预期结果**:
- 个人身份: 显示资产卡片、空投入口、AutoEarn 入口
- 商户身份 (未激活): 显示锁定页面和激活按钮
- 开发者身份 (未激活): 显示锁定页面和激活按钮

---

### TC-004: 空投发现页面
**步骤**:
1. 从首页进入空投发现
2. 查看空投列表
3. 切换 Tab (可领取/已领取)
4. 点击领取按钮

**预期结果**:
- 页面正常加载
- 空投卡片显示项目名、预估价值、状态
- Tab 切换正常

---

### TC-005: AutoEarn 策略页面
**步骤**:
1. 从首页进入 AutoEarn
2. 查看策略列表
3. 点击策略卡片进入详情
4. 测试存入/提取功能

**预期结果**:
- 策略列表显示 APY、风险等级
- 详情页显示完整信息
- 存入/提取表单可交互

---

### TC-006: 快速收款功能
**步骤**:
1. 激活商户身份
2. 从商户首页进入快速收款
3. 输入金额
4. 选择分佣计划
5. 生成收款链接

**预期结果**:
- 金额输入正常
- 计划选择正常
- 生成按钮可点击

---

### TC-007: Agent 对话功能
**步骤**:
1. 从首页进入我的 Agent
2. 选择一个 Agent
3. 发送消息
4. 查看回复

**预期结果**:
- Agent 列表正常显示
- 对话界面正常
- 消息发送和回复正常

---

### TC-008: 任务市场功能
**步骤**:
1. 激活开发者身份
2. 从开发者首页进入任务市场
3. 筛选任务
4. 查看任务详情
5. 申请接单

**预期结果**:
- 任务列表正常显示
- 筛选功能正常
- 申请流程正常

---

### TC-009: 身份激活流程
**步骤**:
1. 在未激活的商户/开发者 Tab 点击激活
2. 填写申请表单
3. 提交申请

**预期结果**:
- 表单字段正确显示
- 验证规则正常
- 提交后有反馈

---

### TC-010: 分享功能
**步骤**:
1. 在收款页面点击分享
2. 选择分享方式
3. 复制链接

**预期结果**:
- 分享弹窗正常显示
- 系统分享面板打开
- 复制提示正常

---

## 3. 测试环境

| 项目 | 配置 |
|-----|-----|
| 操作系统 | Windows 11 + WSL2 Ubuntu 24.04 |
| Node.js | 20.x |
| Expo SDK | 52 |
| 测试设备 | iOS Simulator / Android Emulator / Expo Go |

---

## 4. 测试执行

### 4.1 自动化测试

```bash
# TypeScript 编译检查
cd mobile-app && npx tsc --noEmit

# ESLint 检查
npm run lint

# 单元测试 (如有)
npm test
```

### 4.2 手动测试

1. 启动 Expo: `npm start`
2. 使用 Expo Go 扫码
3. 按测试用例执行功能测试

---

## 5. 测试报告模板

```
测试日期: YYYY-MM-DD
测试人员: 
测试版本: 2.0.0

编译验证:
- [ ] TypeScript 编译通过
- [ ] ESLint 检查通过

功能测试:
- [ ] TC-001 TypeScript 编译 - PASS/FAIL
- [ ] TC-002 底部导航 - PASS/FAIL
- [ ] TC-003 身份切换 - PASS/FAIL
- [ ] TC-004 空投发现 - PASS/FAIL
- [ ] TC-005 AutoEarn - PASS/FAIL
- [ ] TC-006 快速收款 - PASS/FAIL
- [ ] TC-007 Agent 对话 - PASS/FAIL
- [ ] TC-008 任务市场 - PASS/FAIL
- [ ] TC-009 身份激活 - PASS/FAIL
- [ ] TC-010 分享功能 - PASS/FAIL

问题记录:
1. [问题描述] - [严重程度]

总结:
通过率: X/10
阻塞问题: 无/有
```

---

## 6. 风险与依赖

| 风险 | 影响 | 缓解措施 |
|-----|-----|---------|
| 后端 API 未就绪 | 功能测试受阻 | 使用 Mock 数据 |
| 真机测试环境 | 推送/生物识别无法测试 | 使用 Expo Go |
| WSL 网络问题 | Expo 连接不稳定 | 使用 tunnel 模式 |

---

**测试计划制定完成** ✅
