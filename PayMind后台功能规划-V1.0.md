# PayMind 后台功能规划 V1.0

**版本**: 1.0  
**日期**: 2025年1月  
**定位**: 支持个人用户、商户、开发者、推广者和平台运营的完整后台管理系统

---

## 📋 目录

1. [规划概述](#1-规划概述)
2. [个人用户管理](#2-个人用户管理)
3. [商户管理](#3-商户管理)
4. [开发者管理](#4-开发者管理)
5. [推广者管理](#5-推广者管理)
6. [平台运营管理](#6-平台运营管理)
7. [系统管理](#7-系统管理)
8. [数据统计与分析](#8-数据统计与分析)
9. [实施优先级](#9-实施优先级)

---

## 1. 规划概述

### 1.1 设计目标

PayMind后台管理系统旨在为以下角色提供全面的管理能力：

- **个人用户**：管理账户、支付、授权、钱包等
- **商户**：管理商品、订单、结算、MPC钱包等
- **开发者**：管理Agent、API、收益、SDK使用等
- **推广者**：管理推广关系、查看分成、推广统计等
- **平台运营**：营销、售后、技术支持、数据分析等

### 1.2 核心原则

1. **统一入口**：所有后台功能通过统一的管理后台访问
2. **角色权限**：基于角色的权限控制（RBAC）
3. **数据安全**：敏感数据加密、操作审计日志
4. **实时监控**：关键指标实时监控和告警
5. **自动化运营**：尽可能自动化处理，减少人工干预

### 1.3 技术架构建议

- **前端**：React/Next.js + TypeScript
- **后端**：NestJS + TypeORM
- **数据库**：PostgreSQL（主库）+ Redis（缓存）
- **权限**：JWT + RBAC
- **监控**：Prometheus + Grafana
- **日志**：ELK Stack

---

## 2. 个人用户管理

### 2.1 用户账户管理

#### 2.1.1 用户列表
- **功能**：查看所有注册用户
- **字段**：
  - 用户ID、邮箱、钱包地址
  - 注册时间、最后登录时间
  - 账户状态（正常/冻结/注销）
  - KYC状态（未认证/审核中/已认证/已拒绝）
  - 用户类型（个人/商户/开发者/推广者）
- **操作**：
  - 搜索（邮箱、钱包地址、用户ID）
  - 筛选（状态、KYC状态、用户类型）
  - 查看详情
  - 冻结/解冻账户
  - 重置密码
  - 查看操作日志

#### 2.1.2 用户详情
- **基本信息**：
  - 账户信息（邮箱、手机、注册时间）
  - 钱包信息（连接的钱包列表）
  - 认证信息（KYC状态、认证时间）
- **交易统计**：
  - 总交易额、交易次数
  - 最近30天交易趋势
  - 支付方式分布
- **授权管理**：
  - 活跃授权列表
  - 授权历史记录
  - 授权撤销记录
- **安全设置**：
  - 登录设备列表
  - 活跃会话
  - 安全偏好设置
  - 密码修改历史

#### 2.1.3 用户行为分析
- **浏览记录**：商品浏览、Agent使用
- **购买记录**：订单历史、消费习惯
- **支付偏好**：常用支付方式、支付金额分布
- **活跃度**：登录频率、使用时长

### 2.2 KYC认证管理

#### 2.2.1 KYC审核列表
- **待审核**：显示所有待审核的KYC申请
- **审核中**：正在审核的申请
- **已通过**：已通过KYC的用户列表
- **已拒绝**：被拒绝的申请及原因
- **操作**：
  - 查看KYC资料（身份证、护照等）
  - 审核通过/拒绝
  - 添加审核备注
  - 重新审核

#### 2.2.2 KYC统计
- **认证率**：总用户数 vs 已认证用户数
- **审核效率**：平均审核时长
- **拒绝原因分析**：统计常见拒绝原因

### 2.3 钱包管理

#### 2.3.1 钱包列表
- **功能**：查看所有用户连接的钱包
- **字段**：
  - 用户ID、钱包地址
  - 链类型（BSC、Ethereum、Solana等）
  - 连接时间、最后使用时间
  - 钱包余额（实时查询）
- **操作**：
  - 搜索钱包地址
  - 查看钱包交易历史
  - 查看钱包余额

#### 2.3.2 MPC钱包管理
- **功能**：管理商户MPC钱包
- **字段**：
  - 商户ID、钱包地址
  - 分片状态（分片A/B/C）
  - 自动分账授权状态
  - 授权金额、授权过期时间
- **操作**：
  - 查看钱包详情
  - 查看分账授权记录
  - 查看签名历史

### 2.4 交易管理

#### 2.4.1 交易列表
- **功能**：查看所有用户交易
- **字段**：
  - 交易ID、用户ID
  - 交易金额、币种
  - 支付方式、交易状态
  - 创建时间、完成时间
  - 商户信息、商品信息
- **操作**：
  - 搜索（交易ID、用户ID、商户ID）
  - 筛选（状态、支付方式、时间范围）
  - 查看交易详情
  - 导出交易数据
  - 处理退款

#### 2.4.2 交易详情
- **基本信息**：交易金额、状态、时间
- **支付信息**：支付方式、手续费、汇率
- **分账信息**：商户收入、Agent分成、平台手续费
- **订单信息**：商品详情、数量、价格
- **物流信息**：发货状态、物流跟踪

#### 2.4.3 交易统计
- **总交易额**：按日/周/月/年统计
- **交易量**：交易次数统计
- **支付方式分布**：各支付方式占比
- **成功率**：交易成功率统计
- **退款率**：退款金额和次数

### 2.5 授权管理

#### 2.5.1 授权列表
- **功能**：查看所有用户授权
- **字段**：
  - 授权ID、用户ID
  - 授权类型（X402、Token授权、QuickPay等）
  - 授权金额、授权期限
  - 授权状态（活跃/已撤销/已过期）
  - 创建时间、过期时间
- **操作**：
  - 搜索授权
  - 查看授权详情
  - 撤销授权
  - 查看授权使用记录

---

## 3. 商户管理

### 3.1 商户账户管理

#### 3.1.1 商户列表
- **功能**：查看所有注册商户
- **字段**：
  - 商户ID、商户名称、邮箱
  - 注册时间、最后登录时间
  - 账户状态（正常/冻结/注销）
  - KYC状态、认证等级
  - 交易统计（GMV、订单数）
- **操作**：
  - 搜索商户
  - 筛选（状态、KYC状态、认证等级）
  - 查看详情
  - 冻结/解冻账户
  - 审核KYC
  - 查看操作日志

#### 3.1.2 商户详情
- **基本信息**：
  - 商户信息（名称、邮箱、联系方式）
  - 营业执照、认证信息
  - 注册时间、认证时间
- **业务统计**：
  - 总GMV、订单数
  - 最近30天销售趋势
  - 商品数量、上架商品数
  - 客户数量、复购率
- **财务信息**：
  - 总收入、待结算、已结算
  - 结算历史
  - 分账明细
- **MPC钱包**：
  - 钱包地址、余额
  - 分片状态
  - 自动分账授权

#### 3.1.3 商户审核
- **入驻审核**：
  - 待审核商户列表
  - 审核资料（营业执照、身份证明等）
  - 审核通过/拒绝
  - 添加审核备注
- **KYC审核**：
  - 商户KYC申请列表
  - 审核流程管理
  - 认证等级设置

### 3.2 商品管理

#### 3.2.1 商品列表
- **功能**：查看所有商户商品
- **字段**：
  - 商品ID、商品名称、商户ID
  - 商品类型、价格、库存
  - 上架状态、创建时间
  - 销量、浏览量
- **操作**：
  - 搜索商品
  - 筛选（商户、类型、状态）
  - 查看详情
  - 下架商品（违规处理）
  - 查看销售数据

#### 3.2.2 商品审核
- **功能**：审核商户上架商品
- **审核项**：
  - 商品信息完整性
  - 价格合理性
  - 图片合规性
  - 描述准确性
- **操作**：
  - 审核通过/拒绝
  - 添加审核备注
  - 要求商户修改

#### 3.2.3 商品统计
- **商品总数**：按类型、商户统计
- **上架率**：上架商品占比
- **销售排行**：热销商品TOP 100
- **库存预警**：低库存商品提醒

### 3.3 订单管理

#### 3.3.1 订单列表
- **功能**：查看所有商户订单
- **字段**：
  - 订单ID、商户ID、用户ID
  - 商品信息、订单金额
  - 订单状态、支付状态
  - 创建时间、完成时间
- **操作**：
  - 搜索订单
  - 筛选（商户、状态、时间范围）
  - 查看详情
  - 处理退款
  - 导出订单数据

#### 3.3.2 订单详情
- **订单信息**：订单号、状态、时间
- **商品信息**：商品详情、数量、价格
- **支付信息**：支付方式、金额、手续费
- **分账信息**：商户收入、Agent分成、平台手续费
- **物流信息**：发货状态、物流跟踪
- **售后信息**：退款记录、投诉记录

#### 3.3.3 订单统计
- **订单量**：按日/周/月统计
- **订单金额**：GMV统计
- **订单状态分布**：各状态订单占比
- **退款率**：退款订单统计

### 3.4 结算管理

#### 3.4.1 结算列表
- **功能**：管理商户结算
- **字段**：
  - 结算ID、商户ID
  - 结算周期、结算金额
  - 结算状态（待结算/已结算/结算失败）
  - 结算时间
- **操作**：
  - 查看结算详情
  - 手动结算
  - 查看结算历史
  - 导出结算报表

#### 3.4.2 结算详情
- **结算信息**：结算周期、金额、状态
- **分账明细**：
  - 总交易额
  - 商户收入
  - Agent分成明细
  - 平台手续费
  - 推广分成
- **交易列表**：该结算周期内的所有交易

#### 3.4.3 结算统计
- **结算总额**：按日/周/月统计
- **结算效率**：平均结算时长
- **结算失败率**：失败原因分析

### 3.5 分账管理

#### 3.5.1 分账规则管理
- **功能**：管理商户分账规则
- **规则类型**：
  - 默认分账规则
  - 商品分账规则
  - Agent分账规则
- **操作**：
  - 查看分账规则
  - 修改分账规则
  - 查看分账历史

#### 3.5.2 分账记录
- **功能**：查看所有分账记录
- **字段**：
  - 交易ID、商户ID
  - 分账金额、分账对象
  - 分账类型（Agent分成/推广分成）
  - 分账时间
- **操作**：
  - 搜索分账记录
  - 查看分账详情
  - 导出分账数据

### 3.6 MPC钱包管理

#### 3.6.1 钱包列表
- **功能**：查看所有商户MPC钱包
- **字段**：
  - 商户ID、钱包地址
  - 链类型、币种
  - 钱包余额
  - 分片状态
- **操作**：
  - 查看钱包详情
  - 查看分片状态
  - 查看签名历史

#### 3.6.2 自动分账授权
- **功能**：管理商户自动分账授权
- **字段**：
  - 商户ID、授权状态
  - 授权金额、授权过期时间
  - 授权创建时间
- **操作**：
  - 查看授权详情
  - 撤销授权
  - 查看授权使用记录

---

## 4. 开发者管理

### 4.1 开发者账户管理

#### 4.1.1 开发者列表
- **功能**：查看所有注册开发者
- **字段**：
  - 开发者ID、邮箱、名称
  - 注册时间、最后登录时间
  - 账户状态
  - Agent数量、API调用量
  - 总收益
- **操作**：
  - 搜索开发者
  - 查看详情
  - 冻结/解冻账户
  - 查看操作日志

#### 4.1.2 开发者详情
- **基本信息**：账户信息、联系方式
- **Agent统计**：
  - 创建的Agent数量
  - Agent调用量
  - Agent收益
- **API统计**：
  - API调用量
  - API成功率
  - API响应时间
- **收益统计**：
  - 总收益、今日收益
  - 收益趋势
  - 提现记录

### 4.2 Agent管理

#### 4.2.1 Agent列表
- **功能**：查看所有开发者创建的Agent
- **字段**：
  - Agent ID、名称、开发者ID
  - Agent类型、状态
  - 创建时间、最后更新时间
  - 调用量、收益
- **操作**：
  - 搜索Agent
  - 筛选（开发者、类型、状态）
  - 查看详情
  - 上架/下架Agent
  - 查看调用统计

#### 4.2.2 Agent详情
- **基本信息**：名称、描述、类型、状态
- **配置信息**：API配置、能力配置
- **调用统计**：
  - 总调用量、今日调用量
  - 调用趋势
  - 成功率、平均响应时间
- **收益统计**：
  - 总收益、今日收益
  - 收益来源（交易分成/推荐分成）
- **用户反馈**：评分、评论

#### 4.2.3 Agent审核
- **功能**：审核Agent上架申请
- **审核项**：
  - Agent功能完整性
  - 代码质量
  - 安全性检查
  - 合规性检查
- **操作**：
  - 审核通过/拒绝
  - 添加审核备注
  - 要求开发者修改

### 4.3 API管理

#### 4.3.1 API密钥管理
- **功能**：管理开发者API密钥
- **字段**：
  - 密钥ID、开发者ID
  - 密钥名称、权限范围
  - 创建时间、最后使用时间
  - 使用统计（调用量、成功率）
- **操作**：
  - 查看密钥列表
  - 查看密钥详情
  - 撤销密钥
  - 重置密钥

#### 4.3.2 API调用统计
- **功能**：统计API调用情况
- **统计项**：
  - 总调用量、今日调用量
  - 调用趋势（按日/小时）
  - 成功率、失败率
  - 平均响应时间
  - API端点分布
- **操作**：
  - 查看统计图表
  - 导出统计数据
  - 设置告警阈值

#### 4.3.3 API限流管理
- **功能**：管理API限流规则
- **规则类型**：
  - 按开发者限流
  - 按API端点限流
  - 按IP限流
- **操作**：
  - 设置限流规则
  - 查看限流记录
  - 调整限流阈值

### 4.4 收益管理

#### 4.4.1 收益列表
- **功能**：查看开发者收益
- **字段**：
  - 开发者ID、收益类型
  - 收益金额、收益时间
  - 收益来源（交易ID、Agent ID）
  - 结算状态
- **操作**：
  - 搜索收益记录
  - 筛选（开发者、类型、时间范围）
  - 查看收益详情
  - 导出收益数据

#### 4.4.2 收益统计
- **总收益**：按日/周/月/年统计
- **收益来源**：交易分成、推荐分成、推广分成
- **收益趋势**：收益变化趋势图
- **TOP开发者**：收益排行TOP 100

#### 4.4.3 提现管理
- **功能**：管理开发者提现
- **字段**：
  - 提现ID、开发者ID
  - 提现金额、提现状态
  - 申请时间、完成时间
- **操作**：
  - 查看提现申请
  - 审核提现
  - 处理提现
  - 查看提现历史

### 4.5 SDK使用管理

#### 4.5.1 SDK下载统计
- **功能**：统计SDK下载情况
- **统计项**：
  - SDK类型（JS、Python、React）
  - 下载量、下载趋势
  - 下载来源（地区、渠道）
- **操作**：
  - 查看统计图表
  - 导出统计数据

#### 4.5.2 SDK版本管理
- **功能**：管理SDK版本
- **操作**：
  - 查看SDK版本列表
  - 发布新版本
  - 查看版本更新日志
  - 管理版本兼容性

---

## 5. 推广者管理

### 5.1 推广者账户管理

#### 5.1.1 推广者列表
- **功能**：查看所有推广者
- **字段**：
  - 推广者ID、邮箱、名称
  - 注册时间、最后登录时间
  - 账户状态
  - 推广商户数、推广收益
- **操作**：
  - 搜索推广者
  - 查看详情
  - 冻结/解冻账户
  - 查看操作日志

#### 5.1.2 推广者详情
- **基本信息**：账户信息、联系方式
- **推广统计**：
  - 推广商户数
  - 推广商户总GMV
  - 推广收益
  - 推广成功率
- **收益统计**：
  - 总收益、今日收益
  - 收益趋势
  - 提现记录

### 5.2 推广关系管理

#### 5.2.1 推广关系列表
- **功能**：查看所有推广关系
- **字段**：
  - 推广者ID、商户ID
  - 推广时间、关系状态
  - 商户GMV、推广收益
- **操作**：
  - 搜索推广关系
  - 筛选（推广者、商户、状态）
  - 查看详情
  - 查看推广收益

#### 5.2.2 推广关系详情
- **关系信息**：推广者、商户、建立时间
- **推广效果**：
  - 商户总GMV
  - 商户订单数
  - 推广收益（0.5%永久分成）
- **收益明细**：
  - 收益记录列表
  - 收益结算记录

### 5.3 推广分成管理

#### 5.3.1 分成列表
- **功能**：查看所有推广分成
- **字段**：
  - 分成ID、推广者ID、商户ID
  - 交易ID、分成金额
  - 分成比例（0.5%）
  - 分成时间、结算状态
- **操作**：
  - 搜索分成记录
  - 筛选（推广者、商户、时间范围）
  - 查看分成详情
  - 导出分成数据

#### 5.3.2 分成统计
- **总分成**：按日/周/月/年统计
- **分成来源**：按商户统计
- **分成趋势**：分成变化趋势图
- **TOP推广者**：分成排行TOP 100

#### 5.3.3 分成结算
- **功能**：管理推广分成结算
- **结算周期**：T+7（每周结算）
- **操作**：
  - 查看待结算分成
  - 执行结算
  - 查看结算历史
  - 导出结算报表

### 5.4 推广统计

#### 5.4.1 推广效果统计
- **推广商户数**：总推广商户数、新增商户数
- **推广成功率**：推广申请通过率
- **商户活跃度**：推广商户的活跃情况
- **GMV贡献**：推广商户的总GMV

#### 5.4.2 推广渠道分析
- **渠道分布**：各推广渠道的推广效果
- **渠道转化率**：各渠道的转化率
- **渠道收益**：各渠道的收益贡献

---

## 6. 平台运营管理

### 6.1 营销管理

#### 6.1.1 营销活动管理
- **活动列表**：
  - 活动ID、活动名称、活动类型
  - 活动时间、活动状态
  - 参与人数、活动效果
- **活动类型**：
  - 优惠券活动
  - 满减活动
  - 新用户奖励
  - 推荐奖励
  - 节日促销
- **操作**：
  - 创建活动
  - 编辑活动
  - 启用/停用活动
  - 查看活动效果
  - 导出活动数据

#### 6.1.2 优惠券管理
- **优惠券列表**：
  - 优惠券ID、名称、类型
  - 面额、使用条件
  - 发放数量、使用数量
  - 有效期、状态
- **操作**：
  - 创建优惠券
  - 批量发放
  - 查看使用记录
  - 统计使用效果

#### 6.1.3 营销数据统计
- **活动效果**：
  - 活动参与人数
  - 活动转化率
  - 活动GMV贡献
  - ROI分析
- **优惠券效果**：
  - 发放量、使用量
  - 使用率
  - GMV贡献

### 6.2 客服管理

#### 6.2.1 工单系统
- **工单列表**：
  - 工单ID、用户ID、工单类型
  - 工单状态（待处理/处理中/已解决/已关闭）
  - 创建时间、处理时间
  - 处理人、优先级
- **工单类型**：
  - 账户问题
  - 支付问题
  - 订单问题
  - 退款问题
  - 技术问题
  - 其他问题
- **操作**：
  - 创建工单
  - 分配工单
  - 处理工单
  - 查看工单详情
  - 工单统计

#### 6.2.2 工单详情
- **工单信息**：类型、状态、优先级
- **用户信息**：用户ID、联系方式
- **问题描述**：问题详情、附件
- **处理记录**：处理历史、回复记录
- **关联信息**：关联订单、交易等

#### 6.2.3 工单统计
- **工单量**：按日/周/月统计
- **工单类型分布**：各类型工单占比
- **处理效率**：平均处理时长
- **满意度**：用户满意度评分

#### 6.2.4 知识库管理
- **功能**：管理客服知识库
- **内容**：
  - 常见问题（FAQ）
  - 操作指南
  - 政策说明
  - 故障排查
- **操作**：
  - 添加/编辑/删除文章
  - 分类管理
  - 搜索功能
  - 查看阅读统计

### 6.3 技术支持管理

#### 6.3.1 技术问题管理
- **问题列表**：
  - 问题ID、用户ID、问题类型
  - 问题状态、优先级
  - 创建时间、处理时间
- **问题类型**：
  - API问题
  - SDK问题
  - 集成问题
  - 性能问题
  - 安全问题
- **操作**：
  - 创建问题
  - 分配问题
  - 处理问题
  - 查看问题详情

#### 6.3.2 技术文档管理
- **文档列表**：
  - 文档ID、标题、类型
  - 创建时间、更新时间
  - 阅读量、点赞数
- **文档类型**：
  - API文档
  - SDK文档
  - 集成指南
  - 最佳实践
  - 更新日志
- **操作**：
  - 创建/编辑/删除文档
  - 版本管理
  - 查看阅读统计

#### 6.3.3 开发者支持
- **功能**：支持开发者接入
- **服务**：
  - 技术支持工单
  - 技术咨询
  - 代码审查
  - 集成测试
- **统计**：
  - 支持请求量
  - 平均响应时间
  - 问题解决率

### 6.4 内容管理

#### 6.4.1 公告管理
- **公告列表**：
  - 公告ID、标题、类型
  - 发布时间、状态
  - 阅读量
- **公告类型**：
  - 系统公告
  - 活动公告
  - 维护公告
  - 政策公告
- **操作**：
  - 创建/编辑/删除公告
  - 发布/下架公告
  - 查看阅读统计

#### 6.4.2 帮助中心管理
- **功能**：管理帮助中心内容
- **内容类型**：
  - 使用指南
  - 常见问题
  - 视频教程
  - 下载中心
- **操作**：
  - 内容管理
  - 分类管理
  - 搜索功能
  - 查看访问统计

### 6.5 风控管理

#### 6.5.1 风险监控
- **监控指标**：
  - 异常交易监控
  - 异常登录监控
  - 大额交易监控
  - 频繁操作监控
- **告警规则**：
  - 设置告警阈值
  - 告警通知
  - 告警处理

#### 6.5.2 风险处理
- **风险订单**：
  - 风险订单列表
  - 风险等级评估
  - 处理操作（拦截/放行/人工审核）
- **风险用户**：
  - 风险用户列表
  - 风险原因
  - 处理操作（冻结/限制/解冻）

#### 6.5.3 风控规则管理
- **功能**：管理风控规则
- **规则类型**：
  - 交易限额规则
  - 频率限制规则
  - 地域限制规则
  - 设备限制规则
- **操作**：
  - 创建/编辑/删除规则
  - 启用/停用规则
  - 查看规则效果

---

## 7. 系统管理

### 7.1 管理员管理

#### 7.1.1 管理员列表
- **功能**：管理后台管理员
- **字段**：
  - 管理员ID、用户名、邮箱
  - 角色、权限
  - 创建时间、最后登录时间
  - 账户状态
- **操作**：
  - 创建管理员
  - 编辑管理员
  - 删除管理员
  - 重置密码
  - 查看操作日志

#### 7.1.2 角色权限管理
- **角色列表**：
  - 角色ID、角色名称
  - 权限列表
  - 创建时间
- **角色类型**：
  - 超级管理员
  - 运营管理员
  - 客服管理员
  - 财务管理员
  - 技术管理员
  - 只读管理员
- **操作**：
  - 创建/编辑/删除角色
  - 分配权限
  - 查看角色使用情况

### 7.2 系统配置

#### 7.2.1 基础配置
- **平台信息**：
  - 平台名称、Logo
  - 联系方式
  - 服务条款、隐私政策
- **支付配置**：
  - 支付方式开关
  - 手续费配置
  - 汇率配置
- **分账配置**：
  - 默认分账比例
  - Agent分成比例
  - 平台手续费比例

#### 7.2.2 功能开关
- **功能列表**：
  - 功能名称、功能描述
  - 功能状态（开启/关闭）
  - 影响范围
- **操作**：
  - 开启/关闭功能
  - 设置功能参数
  - 查看功能使用统计

### 7.3 日志管理

#### 7.3.1 操作日志
- **日志列表**：
  - 日志ID、操作人、操作类型
  - 操作对象、操作内容
  - 操作时间、IP地址
- **操作类型**：
  - 用户操作
  - 商户操作
  - 系统操作
  - 财务操作
- **操作**：
  - 搜索日志
  - 筛选日志
  - 导出日志
  - 查看日志详情

#### 7.3.2 审计日志
- **功能**：记录关键操作审计日志
- **审计项**：
  - 账户操作（创建/删除/冻结）
  - 财务操作（结算/提现）
  - 配置修改
  - 权限变更
- **操作**：
  - 查看审计日志
  - 导出审计报告

### 7.4 系统监控

#### 7.4.1 系统健康监控
- **监控指标**：
  - 服务器CPU、内存、磁盘
  - 数据库连接数、查询性能
  - API响应时间、错误率
  - 缓存命中率
- **告警**：
  - 设置告警阈值
  - 告警通知
  - 告警历史

#### 7.4.2 业务监控
- **监控指标**：
  - 交易量、交易额
  - 用户活跃度
  - API调用量
  - 错误率
- **仪表盘**：
  - 实时数据展示
  - 趋势图表
  - 告警信息

---

## 8. 数据统计与分析

### 8.1 平台数据统计

#### 8.1.1 用户统计
- **用户总量**：注册用户数、活跃用户数
- **用户增长**：新增用户趋势
- **用户分布**：地区分布、用户类型分布
- **用户活跃度**：DAU、MAU、留存率

#### 8.1.2 交易统计
- **交易总量**：总交易额（GMV）、交易次数
- **交易趋势**：按日/周/月/年统计
- **支付方式分布**：各支付方式占比
- **交易成功率**：成功率统计和趋势

#### 8.1.3 商户统计
- **商户总量**：注册商户数、活跃商户数
- **商户增长**：新增商户趋势
- **商户GMV**：总GMV、平均GMV
- **商户分布**：地区分布、行业分布

#### 8.1.4 开发者统计
- **开发者总量**：注册开发者数、活跃开发者数
- **Agent统计**：Agent总数、活跃Agent数
- **API调用**：总调用量、调用趋势
- **收益统计**：总收益、收益分布

### 8.2 业务分析

#### 8.2.1 收入分析
- **平台收入**：
  - 交易手续费收入
  - SDK订阅收入
  - 其他收入
- **收入趋势**：按日/周/月/年统计
- **收入来源**：各来源收入占比

#### 8.2.2 成本分析
- **运营成本**：
  - 服务器成本
  - 人力成本
  - 营销成本
- **成本趋势**：成本变化趋势
- **成本结构**：各成本项占比

#### 8.2.3 盈利能力分析
- **毛利率**：收入-成本分析
- **净利率**：净利润率分析
- **ROI分析**：投资回报率

### 8.3 数据报表

#### 8.3.1 日报表
- **用户数据**：新增用户、活跃用户
- **交易数据**：交易量、交易额
- **商户数据**：新增商户、商户GMV
- **异常数据**：异常交易、异常用户

#### 8.3.2 周报表
- **周度汇总**：本周关键指标
- **周度对比**：与上周对比
- **趋势分析**：周度趋势

#### 8.3.3 月报表
- **月度汇总**：本月关键指标
- **月度对比**：与上月对比
- **年度累计**：年度累计数据

#### 8.3.4 自定义报表
- **功能**：自定义报表配置
- **操作**：
  - 选择数据源
  - 选择指标
  - 设置时间范围
  - 生成报表
  - 导出报表

---

## 9. 实施优先级

### 9.1 P0阶段（核心功能，必须实现）

#### 9.1.1 用户管理
- ✅ 用户列表和详情
- ✅ KYC认证管理
- ✅ 交易管理
- ✅ 钱包管理

#### 9.1.2 商户管理
- ✅ 商户列表和详情
- ✅ 商品管理
- ✅ 订单管理
- ✅ 结算管理
- ✅ MPC钱包管理

#### 9.1.3 开发者管理
- ✅ 开发者列表和详情
- ✅ Agent管理
- ✅ API统计
- ✅ 收益管理

#### 9.1.4 推广者管理
- ✅ 推广者列表和详情
- ✅ 推广关系管理
- ✅ 推广分成管理

#### 9.1.5 平台运营
- ✅ 工单系统
- ✅ 基础数据统计

### 9.2 P1阶段（重要功能，优先实现）

#### 9.2.1 营销管理
- ⏳ 营销活动管理
- ⏳ 优惠券管理

#### 9.2.2 技术支持
- ⏳ 技术问题管理
- ⏳ 技术文档管理

#### 9.2.3 风控管理
- ⏳ 风险监控
- ⏳ 风险处理

#### 9.2.4 系统管理
- ⏳ 管理员管理
- ⏳ 角色权限管理
- ⏳ 系统配置

### 9.3 P2阶段（增强功能，后续实现）

#### 9.3.1 高级分析
- ⏳ 数据挖掘
- ⏳ 预测分析
- ⏳ 用户画像

#### 9.3.2 自动化运营
- ⏳ 自动化营销
- ⏳ 自动化客服
- ⏳ 自动化风控

#### 9.3.3 移动端管理
- ⏳ 移动端后台
- ⏳ 移动端推送

---

## 10. 技术实现建议

### 10.1 前端架构

#### 10.1.1 技术栈
- **框架**：Next.js 14+ (React 18+)
- **语言**：TypeScript
- **UI库**：Tailwind CSS + shadcn/ui
- **状态管理**：Zustand / Redux Toolkit
- **数据获取**：React Query / SWR
- **图表**：Recharts / Chart.js

#### 10.1.2 页面结构
```
/admin
  /dashboard          # 仪表盘
  /users              # 用户管理
  /merchants          # 商户管理
  /developers         # 开发者管理
  /promoters          # 推广者管理
  /operations         # 平台运营
  /system             # 系统管理
  /analytics          # 数据分析
```

### 10.2 后端架构

#### 10.2.1 技术栈
- **框架**：NestJS
- **语言**：TypeScript
- **数据库**：PostgreSQL
- **缓存**：Redis
- **消息队列**：Bull (Redis)
- **文件存储**：AWS S3 / 阿里云OSS

#### 10.2.2 模块结构
```
backend/src/modules/admin/
  /users              # 用户管理模块
  /merchants          # 商户管理模块
  /developers         # 开发者管理模块
  /promoters          # 推广者管理模块
  /operations         # 运营管理模块
  /system             # 系统管理模块
  /analytics          # 数据分析模块
```

### 10.3 数据库设计

#### 10.3.1 核心表
- `admin_users` - 管理员表
- `admin_roles` - 角色表
- `admin_permissions` - 权限表
- `admin_logs` - 操作日志表
- `admin_configs` - 系统配置表

#### 10.3.2 扩展表
- `support_tickets` - 工单表
- `marketing_campaigns` - 营销活动表
- `risk_rules` - 风控规则表
- `analytics_reports` - 分析报表表

### 10.4 安全设计

#### 10.4.1 认证授权
- JWT Token认证
- RBAC权限控制
- API限流
- IP白名单

#### 10.4.2 数据安全
- 敏感数据加密
- 操作审计日志
- 数据备份
- 灾难恢复

---

## 11. 总结

### 11.1 核心价值

PayMind后台管理系统将为平台提供：

1. **全面的用户管理**：支持个人用户、商户、开发者、推广者的全生命周期管理
2. **高效的运营工具**：营销、客服、技术支持等运营工具
3. **完善的数据分析**：多维度数据统计和分析，支持决策
4. **强大的系统管理**：权限、配置、监控等系统管理能力

### 11.2 实施建议

1. **分阶段实施**：按照P0→P1→P2的优先级逐步实施
2. **快速迭代**：采用敏捷开发，快速交付核心功能
3. **持续优化**：根据使用反馈持续优化功能
4. **安全优先**：始终将安全性放在首位

### 11.3 后续规划

1. **AI增强**：引入AI能力，实现智能客服、智能风控等
2. **自动化运营**：逐步实现运营自动化，减少人工干预
3. **移动端支持**：开发移动端管理后台
4. **开放API**：提供管理API，支持第三方集成

---

**文档版本**: 1.0  
**最后更新**: 2025年1月  
**维护者**: PayMind开发团队

