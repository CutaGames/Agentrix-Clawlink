# ğŸš€ PayMind é¡¹ç›®ä¸Šä¼  GitHub å¹¶éƒ¨ç½²åˆ°è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨å®Œæ•´æ•™ç¨‹

## ğŸ“‹ ç›®å½•
1. [å‡†å¤‡å·¥ä½œ](#å‡†å¤‡å·¥ä½œ)
2. [ä¸Šä¼ åˆ° GitHub](#ä¸Šä¼ åˆ°-github)
3. [å‡†å¤‡è…¾è®¯äº‘æœåŠ¡å™¨](#å‡†å¤‡è…¾è®¯äº‘æœåŠ¡å™¨)
4. [éƒ¨ç½²é¡¹ç›®](#éƒ¨ç½²é¡¹ç›®)
5. [é…ç½®åŸŸåå’Œ HTTPS](#é…ç½®åŸŸåå’Œ-https)

---

## 1ï¸âƒ£ å‡†å¤‡å·¥ä½œ

### âœ… æ£€æŸ¥æ¸…å•
- [ ] Git å·²å®‰è£…
- [ ] GitHub è´¦å·å·²åˆ›å»º
- [ ] è…¾è®¯äº‘è´¦å·å·²åˆ›å»º
- [ ] é¡¹ç›®å·²å®Œæˆæœ¬åœ°æµ‹è¯•

### ğŸ”§ å®‰è£… Gitï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
```bash
# Windows
# ä¸‹è½½å®‰è£…ï¼šhttps://git-scm.com/download/win

# éªŒè¯å®‰è£…
git --version
```

### ğŸ”‘ é…ç½® Gitï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
```bash
# è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±
git config --global user.name "ä½ çš„åå­—"
git config --global user.email "ä½ çš„é‚®ç®±@example.com"

# éªŒè¯é…ç½®
git config --global --list
```

---

## 2ï¸âƒ£ ä¸Šä¼ åˆ° GitHub

### æ­¥éª¤ 1: åˆ›å»º GitHub ä»“åº“

1. **ç™»å½• GitHub**: https://github.com
2. **ç‚¹å‡»å³ä¸Šè§’ "+" â†’ "New repository"**
3. **å¡«å†™ä»“åº“ä¿¡æ¯**:
   - Repository name: `paymind-website`
   - Description: `PayMind - AI-powered Web3 Payment Platform`
   - Privacy: `Private`ï¼ˆæ¨èï¼‰æˆ– `Public`
   - âš ï¸ **ä¸è¦**å‹¾é€‰ "Initialize this repository with README"
4. **ç‚¹å‡» "Create repository"**

### æ­¥éª¤ 2: æœ¬åœ°åˆå§‹åŒ–å¹¶ä¸Šä¼ 

æ‰“å¼€ PowerShell æˆ– Windows Terminalï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd "d:/wsl/Ubuntu-24.04/Code/Paymind/paymind-website"

# 2. æŸ¥çœ‹ Git çŠ¶æ€
git status

# 3. æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .

# 4. æäº¤åˆ°æœ¬åœ°ä»“åº“
git commit -m "Initial commit: PayMind project"

# 5. å…³è” GitHub è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢æˆä½ çš„ GitHub ç”¨æˆ·åï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/paymind-website.git

# 6. æ¨é€åˆ° GitHub
git branch -M main
git push -u origin main
```

### æ­¥éª¤ 3: éªŒè¯ä¸Šä¼ æˆåŠŸ

1. åˆ·æ–° GitHub ä»“åº“é¡µé¢
2. åº”è¯¥èƒ½çœ‹åˆ°æ‰€æœ‰æ–‡ä»¶å·²ä¸Šä¼ 

### âš ï¸ å¸¸è§é—®é¢˜

**é—®é¢˜ 1: æç¤ºéœ€è¦ç™»å½•**
```bash
# ä½¿ç”¨ GitHub Personal Access Token
# 1. GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Generate new token
# 2. å‹¾é€‰ repo æƒé™
# 3. å¤åˆ¶ç”Ÿæˆçš„ token
# 4. ä½¿ç”¨ token ä½œä¸ºå¯†ç ç™»å½•
```

**é—®é¢˜ 2: æ–‡ä»¶å¤ªå¤§æ— æ³•ä¸Šä¼ **
```bash
# æ£€æŸ¥å¤§æ–‡ä»¶
git lfs track "*.å¤§æ–‡ä»¶æ‰©å±•å"
git add .gitattributes
git commit -m "Add Git LFS tracking"
```

---

## 3ï¸âƒ£ å‡†å¤‡è…¾è®¯äº‘æœåŠ¡å™¨

### æ­¥éª¤ 1: è´­ä¹°è½»é‡åº”ç”¨æœåŠ¡å™¨

1. **ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°**: https://console.cloud.tencent.com/
2. **é€‰æ‹© "è½»é‡åº”ç”¨æœåŠ¡å™¨"**
3. **è´­ä¹°æœåŠ¡å™¨**:
   - åœ°åŸŸ: é€‰æ‹©ç¦»ä½ ç”¨æˆ·æœ€è¿‘çš„ï¼ˆå¦‚ å¹¿å·/ä¸Šæµ·ï¼‰
   - é•œåƒ: `Ubuntu 22.04 LTS` æˆ– `Docker CE`
   - å¥—é¤: æ¨è `2æ ¸4G` èµ·æ­¥
   - è´­ä¹°æ—¶é•¿: æŒ‰éœ€é€‰æ‹©
4. **è®¾ç½®å¯†ç **ï¼ˆè®°ä½è¿™ä¸ªå¯†ç ï¼ŒSSH ç™»å½•ç”¨ï¼‰

### æ­¥éª¤ 2: é…ç½®é˜²ç«å¢™

åœ¨è…¾è®¯äº‘æ§åˆ¶å°ï¼š

1. **è¿›å…¥æœåŠ¡å™¨è¯¦æƒ…é¡µ**
2. **ç‚¹å‡» "é˜²ç«å¢™" é€‰é¡¹å¡**
3. **æ·»åŠ è§„åˆ™**:
   ```
   åº”ç”¨ç±»å‹: HTTP(80)      - å…è®¸
   åº”ç”¨ç±»å‹: HTTPS(443)    - å…è®¸
   åº”ç”¨ç±»å‹: è‡ªå®šä¹‰        - TCP:3000 (å‰ç«¯)
   åº”ç”¨ç±»å‹: è‡ªå®šä¹‰        - TCP:3001 (åç«¯)
   åº”ç”¨ç±»å‹: è‡ªå®šä¹‰        - TCP:5432 (PostgreSQL)
   ```

### æ­¥éª¤ 3: è·å–æœåŠ¡å™¨å…¬ç½‘ IP

- åœ¨æœåŠ¡å™¨åˆ—è¡¨ä¸­å¤åˆ¶ **å…¬ç½‘ IP**ï¼Œä¾‹å¦‚: `123.456.789.0`

---

## 4ï¸âƒ£ éƒ¨ç½²é¡¹ç›®

### æ­¥éª¤ 1: SSH ç™»å½•æœåŠ¡å™¨

```bash
# Windows ç”¨æˆ·ä½¿ç”¨ PowerShell
ssh root@ä½ çš„æœåŠ¡å™¨IP

# è¾“å…¥å¯†ç ï¼ˆè´­ä¹°æ—¶è®¾ç½®çš„ï¼‰
```

### æ­¥éª¤ 2: å®‰è£…å¿…è¦è½¯ä»¶

```bash
# 1. æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# 2. å®‰è£… Node.js 18+
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# éªŒè¯å®‰è£…
node -v
npm -v

# 3. å®‰è£… Git
sudo apt install -y git

# 4. å®‰è£… PostgreSQL
sudo apt install -y postgresql postgresql-contrib

# å¯åŠ¨ PostgreSQL
sudo systemctl start postgresql
sudo systemctl enable postgresql

# 5. å®‰è£… PM2ï¼ˆè¿›ç¨‹ç®¡ç†å™¨ï¼‰
sudo npm install -g pm2
```

### æ­¥éª¤ 3: é…ç½®æ•°æ®åº“

```bash
# åˆ‡æ¢åˆ° postgres ç”¨æˆ·
sudo -u postgres psql

# åœ¨ PostgreSQL æ§åˆ¶å°æ‰§è¡Œï¼š
CREATE DATABASE paymind;
CREATE USER paymind WITH PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE paymind TO paymind;
\q

# é€€å‡º PostgreSQL
```

### æ­¥éª¤ 4: å…‹éš†é¡¹ç›®

```bash
# 1. è¿›å…¥å·¥ä½œç›®å½•
cd /var/www

# 2. å…‹éš†é¡¹ç›®ï¼ˆç§æœ‰ä»“åº“éœ€è¦è¾“å…¥ GitHub tokenï¼‰
git clone https://ä½ çš„ç”¨æˆ·å:ä½ çš„token@github.com/ä½ çš„ç”¨æˆ·å/paymind-website.git

# æˆ–ä½¿ç”¨ SSHï¼ˆéœ€è¦é…ç½® SSH keyï¼‰
git clone git@github.com:ä½ çš„ç”¨æˆ·å/paymind-website.git

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd paymind-website
```

### æ­¥éª¤ 5: é…ç½®ç¯å¢ƒå˜é‡

```bash
# åˆ›å»ºåç«¯ç¯å¢ƒå˜é‡
cd /var/www/paymind-website/backend
nano .env
```

å¤åˆ¶ä»¥ä¸‹å†…å®¹å¹¶ä¿®æ”¹ï¼ˆæŒ‰ `Ctrl+O` ä¿å­˜ï¼Œ`Ctrl+X` é€€å‡ºï¼‰ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=paymind
DB_PASSWORD=your_secure_password
DB_DATABASE=paymind

# JWT é…ç½®
JWT_SECRET=your_super_secret_jwt_key_change_this
JWT_EXPIRES_IN=7d

# æœåŠ¡ç«¯å£
PORT=3001
NODE_ENV=production

# CORS é…ç½®
CORS_ORIGIN=http://ä½ çš„æœåŠ¡å™¨IP:3000

# å‰ç«¯ URL
FRONTEND_URL=http://ä½ çš„æœåŠ¡å™¨IP:3000

# Groq APIï¼ˆå¯é€‰ï¼‰
Groq_API_KEY=ä½ çš„Groqå¯†é’¥

# å…¶ä»–é…ç½®...ï¼ˆå¤åˆ¶ä½ æœ¬åœ°çš„ .env æ–‡ä»¶å†…å®¹ï¼‰
```

åŒæ ·é…ç½®å‰ç«¯ï¼š

```bash
cd /var/www/paymind-website/paymindfrontend
nano .env.local
```

```env
NEXT_PUBLIC_API_URL=http://ä½ çš„æœåŠ¡å™¨IP:3001/api
NEXT_PUBLIC_FRONTEND_URL=http://ä½ çš„æœåŠ¡å™¨IP:3000
```

### æ­¥éª¤ 6: å®‰è£…ä¾èµ–å¹¶æ„å»º

```bash
# 1. å®‰è£…æ ¹ç›®å½•ä¾èµ–
cd /var/www/paymind-website
npm install

# 2. å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# 3. è¿è¡Œæ•°æ®åº“è¿ç§»
npm run migration:run

# 4. å®‰è£…å‰ç«¯ä¾èµ–
cd ../paymindfrontend
npm install

# 5. æ„å»ºå‰ç«¯ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰
npm run build
```

### æ­¥éª¤ 7: ä½¿ç”¨ PM2 å¯åŠ¨æœåŠ¡

åˆ›å»º PM2 é…ç½®æ–‡ä»¶ï¼š

```bash
cd /var/www/paymind-website
nano ecosystem.config.js
```

å†…å®¹å¦‚ä¸‹ï¼š

```javascript
module.exports = {
  apps: [
    {
      name: 'paymind-backend',
      cwd: '/var/www/paymind-website/backend',
      script: 'dist/main.js',
      instances: 1,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
      env: {
        NODE_ENV: 'production',
        PORT: 3001
      }
    },
    {
      name: 'paymind-frontend',
      cwd: '/var/www/paymind-website/paymindfrontend',
      script: 'node_modules/next/dist/bin/next',
      args: 'start -p 3000',
      instances: 1,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
      env: {
        NODE_ENV: 'production',
        PORT: 3000
      }
    }
  ]
};
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
pm2 start ecosystem.config.js

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### æ­¥éª¤ 8: éªŒè¯éƒ¨ç½²

åœ¨æµè§ˆå™¨è®¿é—®ï¼š
- å‰ç«¯: `http://ä½ çš„æœåŠ¡å™¨IP:3000`
- åç«¯ API: `http://ä½ çš„æœåŠ¡å™¨IP:3001/api`

---

## 5ï¸âƒ£ é…ç½®åŸŸåå’Œ HTTPSï¼ˆå¯é€‰ä½†æ¨èï¼‰

### æ­¥éª¤ 1: é…ç½®åŸŸåè§£æ

1. åœ¨ä½ çš„åŸŸåæœåŠ¡å•†ï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰æ·»åŠ  A è®°å½•ï¼š
   ```
   ç±»å‹: A
   ä¸»æœºè®°å½•: @ æˆ– www
   è®°å½•å€¼: ä½ çš„æœåŠ¡å™¨IP
   ```

2. ç­‰å¾… DNS ç”Ÿæ•ˆï¼ˆé€šå¸¸ 10 åˆ†é’Ÿå†…ï¼‰

### æ­¥éª¤ 2: å®‰è£… Nginx

```bash
# å®‰è£… Nginx
sudo apt install -y nginx

# å¯åŠ¨ Nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### æ­¥éª¤ 3: é…ç½® Nginx åå‘ä»£ç†

```bash
sudo nano /etc/nginx/sites-available/paymind
```

å†…å®¹å¦‚ä¸‹ï¼š

```nginx
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;

    # å‰ç«¯
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # åç«¯ API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

å¯ç”¨é…ç½®ï¼š

```bash
# åˆ›å»ºè½¯é“¾æ¥
sudo ln -s /etc/nginx/sites-available/paymind /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### æ­¥éª¤ 4: å®‰è£… SSL è¯ä¹¦ï¼ˆLet's Encryptï¼‰

```bash
# å®‰è£… Certbot
sudo apt install -y certbot python3-certbot-nginx

# è‡ªåŠ¨é…ç½® SSL
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# æŒ‰æç¤ºè¾“å…¥é‚®ç®±å¹¶åŒæ„æ¡æ¬¾
```

ç°åœ¨å¯ä»¥é€šè¿‡ HTTPS è®¿é—®ï¼š`https://yourdomain.com`

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

### âœ… éªŒè¯æ¸…å•
- [ ] å‰ç«¯å¯ä»¥è®¿é—®
- [ ] åç«¯ API æ­£å¸¸
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] HTTPS è¯ä¹¦æœ‰æ•ˆ

### ğŸ“Š å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status

# é‡å¯æœåŠ¡
pm2 restart all

# æŸ¥çœ‹æ—¥å¿—
pm2 logs paymind-backend
pm2 logs paymind-frontend

# æ›´æ–°é¡¹ç›®
cd /var/www/paymind-website
git pull
cd backend && npm install && npm run build
cd ../paymindfrontend && npm install && npm run build
pm2 restart all

# æŸ¥çœ‹ Nginx çŠ¶æ€
sudo systemctl status nginx

# é‡å¯ Nginx
sudo systemctl restart nginx
```

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æœåŠ¡æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :3000
netstat -tulpn | grep :3001

# æ£€æŸ¥æœåŠ¡æ—¥å¿—
pm2 logs
```

### é—®é¢˜ 2: æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ PostgreSQL çŠ¶æ€
sudo systemctl status postgresql

# é‡å¯æ•°æ®åº“
sudo systemctl restart postgresql

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
psql -U paymind -d paymind -h localhost
```

### é—®é¢˜ 3: å†…å­˜ä¸è¶³
```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# é‡å¯æœåŠ¡é‡Šæ”¾å†…å­˜
pm2 restart all
```

---

## ğŸ“š å‚è€ƒèµ„æº
- [è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨æ–‡æ¡£](https://cloud.tencent.com/document/product/1207)
- [PM2 å®˜æ–¹æ–‡æ¡£](https://pm2.keymetrics.io/)
- [Nginx å®˜æ–¹æ–‡æ¡£](https://nginx.org/en/docs/)
- [Let's Encrypt æ–‡æ¡£](https://letsencrypt.org/docs/)

---

**ä½œè€…**: PayMind å›¢é˜Ÿ  
**æ›´æ–°æ—¶é—´**: 2025-12-02
